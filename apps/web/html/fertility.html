<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fertility Journey â€“ Interactive Guide | Nari Swasthya</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* =========================================
       CORE VARIABLES (Matching journeys.html)
       ========================================= */
    :root {
      --pink: #ec407a;
      --deep-pink: #d81b60;
      --primary: #ec407a;
      --primary-dark: #ad1457;
      --primary-light: #f48fb1;
      --rose: #ff6090;
      --lavender: #ede7f6;
      --purple: #7c3aed;
      --soft-purple: #9c5cf7;
      --mint: #00bcd4;
      --gold: #ffb300;
      --bg: #faf5fb;
      --card-bg: #ffffff;
      --text-main: #212121;
      --text-soft: #666;
      --border-soft: #f0e6f0;
      --shadow: 0 8px 30px rgba(0,0,0,0.07);
      --shadow-pink: 0 15px 40px rgba(236,64,122,0.18);
      --shadow-strong: 0 20px 60px rgba(236,64,122,0.22);
      --chip-bg: #f3e5f5;
      --fertility-green: #27ae60;
      --ovulation-gold: #f39c12;
      --menstrual-red: #e74c3c;
      --luteal-blue: #3498db;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

     /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .site-header{
      background:rgba(255,255,255,0.95);
      backdrop-filter:blur(24px);
      -webkit-backdrop-filter:blur(24px);
      padding:0;
      box-shadow:0 2px 24px rgba(236,64,122,0.09);
      position:sticky;top:0;z-index:1000;
      border-bottom:1px solid rgba(236,64,122,0.08);
    }

    /* Floating Hearts Background Animation */
    .site-header::before {
      content: 'ðŸ’— âœ¨ ðŸŒ¸ ðŸ’• â­ ðŸ¦‹ ðŸ’— âœ¨ ðŸŒ¸ ðŸ’•';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      gap: 3rem;
      opacity: 0.08;
      animation: float-emojis 40s linear infinite;
      pointer-events: none;
      white-space: nowrap;
    }

    @keyframes float-emojis {
      0% { transform: translateX(0); }
      100% { transform: translateX(50%); }
    }

    /* Sparkle Effect on Hover */
    .site-header::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
        rgba(236, 64, 122, 0.1) 0%, 
        transparent 25%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .site-header:hover::after {
      opacity: 1;
    }

    .nav-container{
      max-width:1400px;margin:0 auto;
      padding:0 1.5rem;
      display:flex;justify-content:space-between;align-items:center;
      height:64px;
    }
    .logo{display:flex;align-items:center;gap:.65rem;flex-shrink:0;}
    .logo-icon{
      width:40px;height:40px;border-radius:12px;
      background:linear-gradient(135deg,#ec407a,#ad1457);
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 4px 14px rgba(236,64,122,0.35);flex-shrink:0;
    }
    .logo-icon svg{width:22px;height:22px;fill:white;}
    .logo-text{display:flex;flex-direction:column;gap:0;}
    .logo-text a{
      text-decoration:none;font-family:'Playfair Display',serif;
      font-weight:900;font-size:1.25rem;line-height:1.1;
      background:linear-gradient(135deg,#ec407a,#ad1457);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    }
    .logo-text span{
      font-size:.62rem;color:#555;font-family:'Manrope',sans-serif;
      font-weight:500;letter-spacing:.1em;text-transform:uppercase;
    }
    .main-nav{display:flex;align-items:center;gap:.2rem;}
    .nav-item{position:relative;}
    .nav-link{
      display:flex;align-items:center;gap:.3rem;
      text-decoration:none;color:#212121;
      font-weight:500;font-size:.875rem;
      padding:.55rem .75rem;border-radius:8px;
      transition:all .25s;white-space:nowrap;
      cursor:pointer;background:none;border:none;font-family:inherit;
    }
    .nav-link:hover,.nav-link.active{color:#d81b60;background:rgba(236,64,122,0.06);}
    .nav-link .chevron{font-size:.6rem;transition:transform .25s;color:#555;margin-top:1px;}
    .nav-item:hover .chevron{transform:rotate(180deg);}
    .nav-dropdown{
      position:absolute;top:calc(100% + 8px);left:50%;
      transform:translateX(-50%) translateY(-6px);
      min-width:220px;background:white;border-radius:16px;
      box-shadow:0 16px 50px rgba(0,0,0,0.12),0 4px 16px rgba(236,64,122,0.1);
      border:1px solid rgba(236,64,122,0.1);padding:.5rem;
      opacity:0;pointer-events:none;
      transition:all .25s cubic-bezier(.23,1.01,.32,1);z-index:200;
    }
    .nav-dropdown::before{
      content:'';position:absolute;top:-6px;left:50%;transform:translateX(-50%);
      border:6px solid transparent;border-bottom-color:white;
      border-top:none;filter:drop-shadow(0 -2px 4px rgba(0,0,0,0.06));
    }
    .nav-item:hover .nav-dropdown,.nav-item:focus-within .nav-dropdown{
      opacity:1;pointer-events:all;transform:translateX(-50%) translateY(0);
    }
    .dd-item{
      display:flex;align-items:center;gap:.75rem;
      padding:.65rem .9rem;border-radius:10px;
      text-decoration:none;color:#212121;font-size:.85rem;font-weight:500;transition:all .2s;
    }
    .dd-item:hover{background:rgba(236,64,122,0.07);color:#d81b60;padding-left:1.1rem;}
    .dd-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.8rem;flex-shrink:0;}
    .dd-sep{height:1px;background:#e0e0e0;margin:.3rem .5rem;}
    /* Flyout submenu â€” appears to the right of the parent row */
    .dd-has-flyout{position:relative;}
    .dd-has-flyout>.dd-flyout-arrow{font-size:.6rem;color:#aaa;margin-left:auto;transition:transform .2s;}
    .dd-flyout{
      display:none;position:absolute;top:0;left:calc(100% + 4px);
      min-width:190px;background:white;border-radius:12px;
      box-shadow:0 12px 36px rgba(0,0,0,0.12),0 4px 12px rgba(236,64,122,0.1);
      border:1px solid rgba(236,64,122,0.12);padding:.4rem;z-index:300;
    }
    .dd-has-flyout:hover>.dd-flyout,
    .dd-has-flyout:focus-within>.dd-flyout{display:block;}
    .dd-has-flyout:hover{background:rgba(236,64,122,0.07);color:#d81b60;}
    .dd-flyout .dd-item{padding:.55rem .8rem;font-size:.82rem;}
    .dd-flyout .dd-item:hover{background:rgba(236,64,122,0.07);color:#d81b60;padding-left:1rem;}
    .nav-actions{display:flex;gap:.6rem;align-items:center;}
    .btn-nav{
      padding:.46rem 1.1rem;border-radius:50px;text-decoration:none;
      font-weight:600;font-size:.82rem;transition:all .3s;border:none;cursor:pointer;
      font-family:inherit;display:inline-flex;align-items:center;gap:.4rem;
    }
    .btn-nav.outline{
      background:linear-gradient(135deg,#ec407a,#ad1457);
      color:#fff;box-shadow:0 4px 15px rgba(236,64,122,0.3);
    }
    .btn-nav.outline:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(236,64,122,0.4);color:#fff;}
    .btn-nav.primary{border:1.5px solid #d81b60;color:#d81b60;background:#fff;}
    .btn-nav.primary:hover{background:rgba(236,64,122,0.05);}
    .hamburger{
      display:none;width:38px;height:38px;border-radius:10px;
      background:none;border:1.5px solid #e0e0e0;
      align-items:center;justify-content:center;cursor:pointer;
      flex-direction:column;gap:4px;padding:8px;
    }
    .hamburger span{display:block;height:2px;background:#212121;border-radius:2px;transition:all .3s;}
    .mobile-menu{
      display:none;position:fixed;inset:0;top:64px;
      background:rgba(255,255,255,0.98);backdrop-filter:blur(20px);
      z-index:999;padding:1.5rem;overflow-y:auto;
    }
    .mm-action-btn{display:inline-flex !important;}
    .mobile-menu.open{display:block;}
    .mm-link{
      display:flex;align-items:center;gap:.75rem;
      padding:.85rem 1rem;border-radius:12px;
      text-decoration:none;color:#212121;font-weight:500;font-size:1rem;
      transition:all .2s;border-bottom:1px solid #e0e0e0;
    }
    .mm-link:hover{color:#d81b60;background:rgba(236,64,122,0.05);}
    .mm-section{font-size:.72rem;font-weight:700;color:#555;text-transform:uppercase;letter-spacing:.1em;padding:.6rem 1rem .3rem;}
    @media(max-width:1060px){
      .main-nav{display:none;}
      .hamburger{display:flex;}
      .nav-actions .btn-nav{display:none;}
    }



    body {
      font-family: 'Manrope', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text-main);
      line-height: 1.6;
      overflow-x: hidden;
    }

    h1, h2, h3, h4 {
      font-family: 'Playfair Display', Georgia, serif;
      margin: 0 0 0.5rem;
    }

    .page-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    /* =========================================
       HERO SECTION - Interactive Constellation
       ========================================= */
    .hero-constellation {
      position: relative;
      min-height: 85vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 3rem 1.5rem;
      background: linear-gradient(135deg, #faf5fb 0%, #ede7f6 50%, #fce4ec 100%);
      border-radius: 32px;
      margin-bottom: 3rem;
      overflow: hidden;
    }

    .constellation-bg {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .gradient-morph {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, 
                  rgba(236, 64, 122, 0.08) 0%, 
                  transparent 60%);
      animation: morph-pulse 8s ease-in-out infinite;
    }

    @keyframes morph-pulse {
      0%, 100% { opacity: 0.5; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    .hero-content-wrapper {
      position: relative;
      z-index: 2;
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
      width: 100%;
    }

    @media (max-width: 968px) {
      .hero-content-wrapper {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
    }

    .hero-left {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .hero-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--deep-pink);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .pulse-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--deep-pink);
      animation: pulse-glow 2s infinite;
    }

    @keyframes pulse-glow {
      0%, 100% { opacity: 1; transform: scale(1); box-shadow: 0 0 0 0 rgba(236, 64, 122, 0.7); }
      50% { opacity: 0.7; transform: scale(1.3); box-shadow: 0 0 0 10px rgba(236, 64, 122, 0); }
    }

    .hero-title-3d {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(2.4rem, 5vw, 4rem);
      font-weight: 900;
      line-height: 1.08;
      margin-bottom: 1.2rem;
      background: linear-gradient(135deg, #212121 0%, #555 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .title-emphasis {
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 50%, #ad1457 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      display: inline-block;
      animation: title-shimmer 3s ease-in-out infinite;
      filter: drop-shadow(0 2px 10px rgba(236,64,122,.35));
    }

    @keyframes title-shimmer {
      0%, 100% { filter: brightness(1) drop-shadow(0 2px 10px rgba(236,64,122,.35)); }
      50% { filter: brightness(1.35) drop-shadow(0 5px 18px rgba(236,64,122,.55)); }
    }

    .hero-description {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--text-soft);
      max-width: 48ch;
    }

    .badge-constellation {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
    }

    .hero-badge-3d {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1.2rem;
      border-radius: 50px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(236, 64, 122, 0.2);
      box-shadow: 0 4px 15px rgba(236, 64, 122, 0.1);
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--deep-pink);
      transition: all 0.3s ease;
      cursor: default;
    }

    .hero-badge-3d:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(236, 64, 122, 0.2);
      border-color: var(--deep-pink);
    }

    .hero-cta-constellation {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 0.5rem;
    }

    .btn-primary-3d,
    .btn-secondary-3d {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      padding: 0.9rem 1.8rem;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .btn-primary-3d {
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 100%);
      color: white;
      box-shadow: 0 10px 30px rgba(236, 64, 122, 0.3);
    }

    .btn-primary-3d:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(236, 64, 122, 0.4);
    }

    .btn-secondary-3d {
      background: rgba(255, 255, 255, 0.9);
      color: var(--deep-pink);
      border: 2px solid rgba(236, 64, 122, 0.3);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    }

    .btn-secondary-3d:hover {
    transform: translateY(-4px);
    border-color: #d81b60;
    background: #fff5f8;
    box-shadow: 0 8px 20px rgba(216, 27, 96, 0.15);
    }

    /* =========================================
       INTERACTIVE CYCLE VISUALIZER (Right Side Hero)
       ========================================= */
    .hero-right {
      position: relative;
      min-height: 450px;
    }

    .cycle-visualizer {
      position: relative;
      width: 100%;
      max-width: 450px;
      margin: 0 auto;
      aspect-ratio: 1;
    }

    .cycle-ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
    }

    .cycle-ring svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .cycle-segment {
      fill: none;
      stroke-width: 30;
      cursor: pointer;
      transition: all 0.3s ease;
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));
    }

    .cycle-segment:hover {
      stroke-width: 35;
      filter: drop-shadow(0 6px 20px rgba(0, 0, 0, 0.2));
    }

    .cycle-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 10;
    }

    .cycle-day-display {
      font-size: 3rem;
      font-weight: 800;
      color: var(--deep-pink);
      line-height: 1;
      margin-bottom: 0.3rem;
    }

    .cycle-phase-name {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: 0.5rem;
    }

    .cycle-emoji {
      font-size: 2rem;
    }

    .phase-cards-orbit {
      position: absolute;
      inset: -40px;
      pointer-events: none;
    }

    .phase-card-floating {
      position: absolute;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 1rem 1.3rem;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      border: 2px solid;
      min-width: 160px;
      opacity: 0;
      transform: scale(0.8);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: auto;
    }

    .phase-card-floating.active {
      opacity: 1;
      transform: scale(1);
    }

    .phase-card-1 {
      top: -10%;
      left: 10%;
      border-color: var(--menstrual-red);
    }

    .phase-card-2 {
      top: -10%;
      right: 10%;
      border-color: var(--ovulation-gold);
    }

    .phase-card-3 {
      bottom: -5%;
      left: 15%;
      border-color: var(--fertility-green);
    }

    .phase-card-4 {
      bottom: -5%;
      right: 15%;
      border-color: var(--luteal-blue);
    }

    .phase-card-floating h4 {
      font-size: 0.9rem;
      margin-bottom: 0.4rem;
    }

    .phase-card-floating p {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin: 0;
      line-height: 1.4;
    }

    /* =========================================
       BODY SIMULATOR SECTION
       ========================================= */
    .body-simulator-section {
      background: white;
      border-radius: 32px;
      padding: 3rem 2rem;
      margin-bottom: 3rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
    }

    .section-header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }

    .section-label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(236, 64, 122, 0.08);
      border: 1px solid rgba(236, 64, 122, 0.15);
      color: var(--deep-pink);
      padding: 0.35rem 0.9rem;
      border-radius: 50px;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 1rem;
    }

    .section-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.8rem, 4vw, 3rem);
      font-weight: 900;
      line-height: 1.15;
      margin-bottom: 0.75rem;
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 50%, #ad1457 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 2px 10px rgba(236,64,122,.25));
      animation: section-title-shimmer 3s ease-in-out infinite;
    }

    @keyframes section-title-shimmer {
      0%, 100% { filter: brightness(1) drop-shadow(0 2px 10px rgba(236,64,122,.25)); }
      50%       { filter: brightness(1.2) drop-shadow(0 4px 16px rgba(236,64,122,.45)); }
    }

    .section-title .em,
    .section-title em {
      font-style: normal;
    }

    .title-black {
      background: none;
      -webkit-background-clip: unset;
      -webkit-text-fill-color: #212121;
      background-clip: unset;
      filter: none;
      animation: none;
    }

    .section-subtitle {
      font-size: 1.05rem;
      color: var(--text-soft);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.8;
    }

    .body-sim-container {
      display: grid;
      grid-template-columns: 1fr 1.3fr;
      gap: 3rem;
      align-items: start;
    }

    @media (max-width: 968px) {
      .body-sim-container {
        grid-template-columns: 1fr;
      }
    }

    .body-controls {
      position: sticky;
      top: 2rem;
    }

    .control-panel {
      background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%);
      border-radius: 24px;
      padding: 2rem;
      border: 2px solid rgba(236, 64, 122, 0.2);
    }

    .control-group {
      margin-bottom: 2rem;
    }

    .control-group:last-child {
      margin-bottom: 0;
    }

    .control-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-main);
    }

    .control-label-icon {
      font-size: 1.3rem;
    }

    .slider-container {
      margin-bottom: 1.5rem;
    }

    .slider-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .slider-name {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-main);
    }

    .slider-value {
      font-size: 1rem;
      font-weight: 700;
      color: var(--deep-pink);
      padding: 0.2rem 0.6rem;
      background: white;
      border-radius: 8px;
    }

    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 8px;
      border-radius: 5px;
      background: rgba(255, 255, 255, 0.7);
      outline: none;
      transition: all 0.3s ease;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ec407a, #d81b60);
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(236, 64, 122, 0.4);
      transition: all 0.3s ease;
    }

    .slider::-webkit-slider-thumb:hover {
      transform: scale(1.2);
      box-shadow: 0 6px 18px rgba(236, 64, 122, 0.6);
    }

    .slider::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ec407a, #d81b60);
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(236, 64, 122, 0.4);
      border: none;
    }

    .factor-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.8rem;
    }

    .factor-btn {
      padding: 0.8rem 1rem;
      border: 2px solid rgba(236, 64, 122, 0.3);
      background: white;
      border-radius: 12px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-main);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .factor-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    .factor-btn.active {
      background: linear-gradient(135deg, #ec407a, #d81b60);
      color: white;
      border-color: var(--deep-pink);
      box-shadow: 0 8px 25px rgba(236, 64, 122, 0.3);
    }

    .body-visualization {
      position: relative;
      background: linear-gradient(180deg, #faf5fb 0%, white 100%);
      border-radius: 24px;
      padding: 2rem;
      border: 2px solid rgba(236, 64, 122, 0.1);
      min-height: 600px;
    }

    .body-svg-container {
      position: relative;
      max-width: 400px;
      margin: 0 auto;
    }

    .body-svg-container svg {
      width: 100%;
      height: auto;
    }

    /* Body Parts Animation States */
    .body-part {
      transition: all 0.6s ease;
    }

    .body-brain {
      fill: #ffb6c1;
    }

    .body-brain.stressed {
      fill: #ff6b6b;
      animation: stress-pulse 1.5s ease-in-out infinite;
    }

    @keyframes stress-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .body-uterus {
      fill: #ffc0cb;
    }

    .body-ovary {
      fill: #ffb6d9;
    }

    .temp-indicator {
      transition: all 0.6s ease;
    }

    .mucus-indicator {
      transition: all 0.6s ease;
    }

    .info-popup {
      position: absolute;
      background: white;
      border-radius: 16px;
      padding: 1.2rem;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      border: 2px solid var(--deep-pink);
      max-width: 280px;
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.3s ease;
      pointer-events: none;
      z-index: 100;
    }

    .info-popup.active {
      opacity: 1;
      transform: scale(1);
      pointer-events: auto;
    }

    .info-popup-temp {
      top: 15%;
      right: 10%;
    }

    .info-popup-mucus {
      top: 40%;
      left: 5%;
    }

    .info-popup-stress {
      top: 5%;
      left: 10%;
    }

    .info-popup h4 {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.8rem;
      color: var(--deep-pink);
    }

    .info-popup p {
      margin: 0 0 0.5rem;
      font-size: 0.9rem;
      line-height: 1.5;
      color: var(--text-soft);
    }

    .info-popup-stat {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      background: linear-gradient(135deg, #fce4ec, #f3e5f5);
      border-radius: 8px;
      font-weight: 700;
      color: var(--deep-pink);
      margin-top: 0.5rem;
    }

    /* =========================================
       FERTILITY METHODS CARDS
       ========================================= */
    .methods-section {
      margin-bottom: 3rem;
    }

    .methods-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .method-card {
      background: white;
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      border: 2px solid transparent;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .method-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #ec407a, #d81b60);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
    }

    .method-card:hover::before {
      transform: scaleX(1);
    }

    .method-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 50px rgba(236, 64, 122, 0.2);
      border-color: rgba(236, 64, 122, 0.3);
    }

    .method-icon {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      background: linear-gradient(135deg, #fce4ec, #f3e5f5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin-bottom: 1.2rem;
      transition: all 0.3s ease;
    }

    .method-card:hover .method-icon {
      transform: scale(1.1) rotate(5deg);
    }

    .method-card h3 {
      font-size: 1.3rem;
      margin-bottom: 0.8rem;
    }

    .method-card p {
      color: var(--text-soft);
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .method-badge {
      display: inline-block;
      padding: 0.4rem 0.9rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      background: linear-gradient(135deg, #ec407a, #d81b60);
      color: white;
    }

    /*---------------------------------------

    DIALOG BOXES FOR SIMULATORS

    ------------------------------------------*/

    /* =========================================
   MODAL DIALOG STYLES
   ========================================= */
.tx-modal-overlay {
  display: none; /* Hidden by default */
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.85);
  z-index: 9999; /* Must be high to sit on top */
  align-items: center;
  justify-content: center;
}

/* This class triggers visibility */
.tx-modal-overlay.open {
  display: flex !important; /* Force display */
  opacity: 1;
}


.tx-modal-container {
  background: white;
  width: 95%;
  max-width: 1400px;
  height: 90vh; /* Takes up most of the screen */
  border-radius: 24px;
  position: relative;
  overflow-y: auto; /* Allow scrolling inside modal if content is tall */
  box-shadow: 0 25px 50px rgba(0,0,0,0.5);
  animation: slideUpModal 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}

@keyframes slideUpModal {
  from { transform: translateY(50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.tx-close-btn {
  position: absolute;
  top: 20px;
  right: 25px;
  background: white;
  border: none;
  font-size: 2.5rem;
  line-height: 1;
  color: #555;
  cursor: pointer;
  z-index: 100;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  transition: all 0.2s;
}

.tx-close-btn:hover {
  background: #f44336;
  color: white;
  transform: rotate(90deg);
}

/* Adjust Section Styling when inside Modal */
.tx-modal-container .treatment-lab-section {
  box-shadow: none; /* Remove duplicate shadow */
  margin-bottom: 0;
  min-height: 100%;
  padding-top: 3rem;
}

    /* =========================================
       TRACKING TIMELINE
       ========================================= */
    .timeline-section {
      background: white;
      border-radius: 32px;
      padding: 3rem 2rem;
      margin-bottom: 3rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
    }

    .timeline-container {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
    }

    .timeline-line {
      position: absolute;
      left: 50%;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(180deg, #e74c3c, #f39c12, #27ae60, #3498db);
      transform: translateX(-50%);
      border-radius: 2px;
    }

    @media (max-width: 768px) {
      .timeline-line {
        left: 30px;
      }
    }

    .timeline-item {
      position: relative;
      margin-bottom: 3rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
    }

    @media (max-width: 768px) {
      .timeline-item {
        grid-template-columns: 1fr;
        padding-left: 80px;
      }
    }

    .timeline-item:nth-child(even) .timeline-content {
      order: -1;
    }

    .timeline-marker {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: white;
      border: 4px solid;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      z-index: 10;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    @media (max-width: 768px) {
      .timeline-marker {
        left: 30px;
      }
    }

    .timeline-content {
      background: linear-gradient(135deg, rgba(252, 228, 236, 0.5), rgba(243, 229, 245, 0.5));
      padding: 2rem;
      border-radius: 20px;
      border: 2px solid;
      transition: all 0.3s ease;
    }

    .timeline-content:hover {
      transform: scale(1.02);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
    }

    .timeline-content h3 {
      font-size: 1.5rem;
      margin-bottom: 0.8rem;
    }

    .timeline-content p {
      color: var(--text-soft);
      line-height: 1.7;
      margin: 0;
    }

    .timeline-visual {
      display: flex;
      justify-content: center;
    }

     /* =========================================
       NEW: NEXT-GEN STYLES FOR ADDED SECTIONS
       ========================================= */

    /* 1. FERTILITY COMPASS (Specialist Section) */
    .specialist-section /* NEW (Theme Compatible - Soft Pink/Lavender): */
    {
      background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%); 
      
      /* Keep existing properties */
      border-radius: 32px;
      padding: 4rem 2rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(236, 64, 122, 0.1); /* Optional: adds a subtle pink border definition */
    }

    .compass-grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 3rem;
      position: relative;
      z-index: 2;
    }

    @media (max-width: 900px) { .compass-grid { grid-template-columns: 1fr; } }

    .checklist-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(12px);
      border-radius: 24px;
      padding: 2rem;
      box-shadow: 0 10px 40px rgba(255, 167, 38, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.6);
    }

    .checklist-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      margin-bottom: 0.8rem;
      background: white;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid transparent;
    }

    .checklist-item:hover { transform: translateX(5px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
    .checklist-item.checked { border-color: #ff9800; background: #fff8e1; }
    .checklist-item i { color: #bdbdbd; font-size: 1.2rem; transition: color 0.2s; }
    .checklist-item.checked i { color: #ff9800; }

    .result-monitor {
      background: white;
      border-radius: 24px;
      padding: 2.5rem;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: 0 20px 50px rgba(0,0,0,0.1);
      transition: all 0.4s ease;
    }

    .status-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .status-alert .status-icon { animation: shake 0.5s; color: #e65100; }
    @keyframes shake { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-10deg); } 75% { transform: rotate(10deg); } }

    .status-badge {
      display: inline-block;
      padding: 0.5rem 1.5rem;
      border-radius: 50px;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 0.9rem;
      margin-bottom: 1rem;
      background: #e0e0e0;
      color: #616161;
      transition: all 0.3s;
    }
    .status-alert .status-badge { background: #ff9800; color: white; box-shadow: 0 0 20px rgba(255, 152, 0, 0.4); }

    /* 2. TREATMENT LAB (Glassmorphism Cards) */
    .treatment-section {
      padding: 4rem 0;
      margin-bottom: 3rem;
    }

    .treatment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      perspective: 1000px; /* For 3D tilt */
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(16px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2rem;
      box-shadow: var(--glass-shadow);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .glass-card:hover {
      transform: translateY(-10px) rotateX(2deg);
      box-shadow: 0 20px 50px rgba(236, 64, 122, 0.25);
      background: rgba(255, 255, 255, 0.9);
    }

    .glass-icon-wrapper {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, #fce4ec, #fff);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      color: var(--deep-pink);
      margin-bottom: 1.5rem;
      box-shadow: 0 10px 20px rgba(236, 64, 122, 0.1);
    }

    .success-meter {
      margin-top: 1.5rem;
      background: #f5f5f5;
      height: 8px;
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .success-fill {
      height: 100%;
      background: linear-gradient(90deg, #ec407a, #d81b60);
      width: 0%; /* Animate this */
      transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .glass-card:hover .success-fill { width: var(--success-rate); }

    /* 3. MIND-BODY SANCTUARY (Floating Bubbles) */
    .sanctuary-section {
      background: linear-gradient(180deg, #e1f5fe 0%, #f3e5f5 100%);
      border-radius: 32px;
      padding: 4rem 2rem;
      margin-bottom: 3rem;
      text-align: center;
      overflow: hidden;
      position: relative;
    }

    .bubble-container {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      margin-top: 3rem;
    }

    .support-bubble {
      width: 280px;
      height: 280px;
      background: rgba(255, 255, 255, 0.85);
      border-radius: 50%; /* Circle */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      box-shadow: 0 15px 35px rgba(100, 181, 246, 0.15);
      border: 2px solid white;
      transition: all 0.5s ease;
      animation: float-bubble 6s ease-in-out infinite;
    }

    .support-bubble:nth-child(2) { animation-delay: 1s; }
    .support-bubble:nth-child(3) { animation-delay: 2s; }
    .support-bubble:nth-child(4) { animation-delay: 0.5s; }

    .support-bubble:hover {
      transform: scale(1.1);
      background: white;
      box-shadow: 0 0 50px rgba(100, 181, 246, 0.3);
      z-index: 10;
    }

    @keyframes float-bubble {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    /* Common Utils */
    .sub-head { color: var(--text-soft); font-size: 1.05rem; max-width: 600px; margin: 0 auto 3rem; text-align: center; line-height: 1.8; }
    .center-text { text-align: center; }
    .section-title-lg {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.8rem, 4vw, 3rem);
      font-weight: 900;
      line-height: 1.15;
      margin-bottom: 0.75rem;
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 50%, #ad1457 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 2px 10px rgba(236,64,122,.25));
      animation: section-title-shimmer 3s ease-in-out infinite;
    }
    .section-title-lg .em,
    .section-title-lg em {
      font-style: normal;
    }



    /* =========================================
       INTERACTIVE TIPS SECTION
       ========================================= */
    .tips-section {
      margin-bottom: 3rem;
    }

    .tips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .tip-card {
      background: white;
      border-radius: 24px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      position: relative;
      overflow: hidden;
      transition: all 0.4s ease;
    }

    .tip-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #ec407a, #d81b60, #ad1457);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
    }

    .tip-card:hover::after {
      transform: scaleX(1);
    }

    .tip-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 50px rgba(236, 64, 122, 0.15);
    }

    .tip-icon {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, #fce4ec, #f3e5f5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      margin-bottom: 1.2rem;
    }

    .tip-card h3 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .tip-card ul {
      margin: 0;
      padding-left: 1.2rem;
      color: var(--text-soft);
    }

    .tip-card li {
      margin-bottom: 0.6rem;
      line-height: 1.6;
    }

    /* --- IMPACT OVERLAY STYLES --- */
  /* --- IMPACT OVERLAY STYLES (UPDATED POSITION) --- */
.factor-impact-overlay {
  position: absolute;
  /* Remove 'top: 80px;' and replace with bottom positioning */
  bottom: 20px; 
  left: 20px;
  right: 20px;
  
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(5px);
  border-radius: 16px;
  padding: 1rem;
  box-shadow: 0 -5px 20px rgba(0,0,0,0.15); /* Shadow pointing up slightly */
  z-index: 20;
  opacity: 0;
  
  /* Change slide animation to come from bottom up */
  transform: translateY(20px); 
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  border-left: 4px solid transparent;
}

.factor-impact-overlay.active {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

  .impact-header {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    margin-bottom: 0.5rem;
    font-weight: 800;
    color: #333;
  }

  .impact-body p {
    margin: 0 0 0.5rem;
    font-size: 0.9rem;
    color: #555;
    line-height: 1.4;
  }

  .impact-list {
    margin: 0;
    padding-left: 1.2rem;
    font-size: 0.85rem;
    color: #444;
  }

  .impact-list li {
    margin-bottom: 0.2rem;
  }

  /* Stress Styles */
  .factor-impact-overlay.stress-mode { border-left-color: #ef5350; }
  .factor-impact-overlay.stress-mode .impact-header { color: #c62828; }

  /* Diet Styles */
  .factor-impact-overlay.diet-mode { border-left-color: #66bb6a; }
  .factor-impact-overlay.diet-mode .impact-header { color: #2e7d32; }

  /* Sleep Styles */
  .factor-impact-overlay.sleep-mode { border-left-color: #5c6bc0; }
  .factor-impact-overlay.sleep-mode .impact-header { color: #283593; }


  /* --- SVG ANIMATIONS --- */

  /* 1. STRESS: Brain Storm & Cortisol Block */
  .brain-core { transition: fill 0.5s; }
  #bodyBrain.stressed .brain-core { 
    fill: #ffcdd2; /* Red hue */
    filter: url(#stressNoise); /* Shake effect */
  }
  #bodyBrain.stressed .stress-bolt {
    opacity: 1;
    animation: stress-flash 0.5s infinite alternate;
  }
  @keyframes stress-flash { 0% { stroke: #e57373; opacity: 0.5; } 100% { stroke: #d32f2f; opacity: 1; } }

  /* HPA Axis Inteference */
  .hpa-blocked {
    stroke: #ef5350 !important;
    stroke-dasharray: 2 3 !important;
    animation: signal-block 1s linear infinite;
  }
  @keyframes signal-block {
    0% { opacity: 0.3; stroke-width: 1; }
    50% { opacity: 1; stroke-width: 3; }
    100% { opacity: 0.3; stroke-width: 1; }
  }

  /* 2. DIET: Nutrient Glow */
  #uterusBase.nourished {
    fill: url(#nutrientGrad); /* Healthy green/pink mix */
    filter: url(#glow);
    transition: fill 1s ease;
  }
  #nutrientFlow circle {
    animation-timing-function: ease-in;
  }

  /* 3. SLEEP: Restoration */
  #bodyBrain.rested {
    fill: #b3e5fc;
    filter: drop-shadow(0 0 5px #0288d1);
  }


    /* =========================================
       SPECIALIST CONSULTATION CTA
       ========================================= */
    .cta-section {
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 50%, #ad1457 100%);
      border-radius: 32px;
      padding: 4rem 2rem;
      text-align: center;
      color: white;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .cta-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: cta-float 6s ease-in-out infinite;
    }

    @keyframes cta-float {
      0%, 100% { transform: translate(0, 0); }
      50% { transform: translate(-30px, 30px); }
    }

    .cta-content {
      position: relative;
      z-index: 2;
      max-width: 700px;
      margin: 0 auto;
    }

    .cta-section h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .cta-section p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.95;
    }

    .cta-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .cta-btn-white {
      padding: 1rem 2rem;
      background: white;
      color: var(--deep-pink);
      border: none;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      text-decoration: none;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .cta-btn-white:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .cta-btn-outline {
      padding: 1rem 2rem;
      background: transparent;
      color: white;
      border: 2px solid white;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      text-decoration: none;
    }

    .cta-btn-outline:hover {
      background: white;
      color: var(--deep-pink);
      transform: translateY(-3px);
    }

    /* 2. TREATMENT LAB (Glassmorphism Cards) */
    .treatment-section {
      padding: 4rem 0;
      margin-bottom: 3rem;
    }

    .treatment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      perspective: 1000px; /* For 3D tilt */
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(16px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2rem;
      box-shadow: var(--glass-shadow);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .glass-card:hover {
      transform: translateY(-10px) rotateX(2deg);
      box-shadow: 0 20px 50px rgba(236, 64, 122, 0.25);
      background: rgba(255, 255, 255, 0.9);
    }

    /* 3. MIND-BODY SANCTUARY (Floating Bubbles) */
    .sanctuary-section {
      background: linear-gradient(180deg, #e1f5fe 0%, #f3e5f5 100%);
      border-radius: 32px;
      padding: 4rem 2rem;
      margin-bottom: 3rem;
      text-align: center;
      overflow: hidden;
      position: relative;
    }

    .bubble-container {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      margin-top: 3rem;
    }

    .support-bubble {
      width: 280px;
      height: 280px;
      background: rgba(255, 255, 255, 0.85);
      border-radius: 50%; /* Circle */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      box-shadow: 0 15px 35px rgba(100, 181, 246, 0.15);
      border: 2px solid white;
      transition: all 0.5s ease;
      animation: float-bubble 6s ease-in-out infinite;
    }

    .support-bubble:nth-child(2) { animation-delay: 1s; }
    .support-bubble:nth-child(3) { animation-delay: 2s; }
    .support-bubble:nth-child(4) { animation-delay: 0.5s; }

    .support-bubble:hover {
      transform: scale(1.1);
      background: white;
      box-shadow: 0 0 50px rgba(100, 181, 246, 0.3);
      z-index: 10;
    }

    @keyframes float-bubble {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    /* Common Utils */
    .sub-head { color: var(--text-soft); font-size: 1.05rem; max-width: 600px; margin: 0 auto 3rem; text-align: center; line-height: 1.8; }
    .center-text { text-align: center; }
    .section-title-lg {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.8rem, 4vw, 3rem);
      font-weight: 900;
      line-height: 1.15;
      margin-bottom: 0.75rem;
      background: linear-gradient(135deg, #ec407a 0%, #d81b60 50%, #ad1457 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 2px 10px rgba(236,64,122,.25));
      animation: section-title-shimmer 3s ease-in-out infinite;
    }
    .section-title-lg .em,
    .section-title-lg em {
      font-style: normal;
    }


    /* --- BODY SIMULATOR ENHANCED STYLES --- */
.body-simulator-section {
  background: white;
  border-radius: 32px;
  padding: 3rem 2rem;
  margin-bottom: 3rem;
  box-shadow: 0 20px 60px rgba(0,0,0,0.08);
  border: 1px solid rgba(0,0,0,0.03);
}

.section-header { position: relative; }
.header-badge {
  display: inline-block;
  background: #ffecb3;
  color: #ff6f00;
  font-size: 0.75rem;
  font-weight: 800;
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  margin-bottom: 1rem;
  letter-spacing: 0.05em;
  animation: pulse-badge 2s infinite;
}
@keyframes pulse-badge { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

.master-control {
  background: white;
  padding: 1.5rem;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  border: 1px solid rgba(236, 64, 122, 0.2);
  margin-bottom: 2rem;
}

.slider.master-slider {
  height: 12px;
  background: linear-gradient(to right, #e0e0e0 0%, #e0e0e0 100%);
}
.slider.master-slider::-webkit-slider-thumb {
  width: 28px; height: 28px; background: var(--deep-pink); border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.cycle-phases-bar {
  display: flex; height: 6px; margin-top: 10px; border-radius: 3px; overflow: hidden;
}
.phase-segment { height: 100%; opacity: 0.7; }
.p-menstrual { width: 18%; background: var(--menstrual-red); }
.p-follicular { width: 30%; background: var(--ovulation-gold); }
.p-ovulation { width: 14%; background: var(--fertility-green); }
.p-luteal { width: 38%; background: var(--luteal-blue); }

.sim-play-btn {
  width: 100%; margin-top: 1rem; padding: 0.8rem; background: #212121; color: white;
  border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s;
  display: flex; align-items: center; justify-content: center; gap: 0.5rem;
}
.sim-play-btn:hover { background: #424242; transform: translateY(-2px); }
.sim-play-btn.playing { background: #e53935; }

/* Hormone Dashboard */
.hormone-bars { display: flex; flex-direction: column; gap: 0.8rem; margin-top: 0.5rem; }
.h-bar-group { display: flex; align-items: center; gap: 1rem; font-size: 0.85rem; color: #555; }
.h-bar-group label { width: 80px; font-weight: 600; }
.h-track { flex: 1; height: 8px; background: rgba(255,255,255,0.6); border-radius: 4px; overflow: hidden; border: 1px solid rgba(0,0,0,0.05); }
.h-fill { height: 100%; transition: width 0.5s ease; border-radius: 4px; }
.h-fill.estrogen { background: #f06292; }
.h-fill.lh { background: #ba68c8; }
.h-fill.progesterone { background: #4db6ac; }

/* Visual Insight Card */
.sim-insight-card {
  position: absolute; top: 20px; left: 20px; right: 20px;
  background: rgba(255,255,255,0.95); backdrop-filter: blur(5px);
  padding: 1rem; border-radius: 16px; border-left: 4px solid var(--deep-pink);
  box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 10;
  transition: all 0.3s ease;
}
.insight-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.3rem; }
.insight-title { font-weight: 800; color: var(--text-main); font-size: 1rem; }
.insight-text { font-size: 0.85rem; color: #555; margin: 0; line-height: 1.4; }

/* SVG Animations */
#activeFollicle { transition: r 0.5s ease; }
#endometrium { transition: opacity 0.5s ease, stroke-width 0.5s ease; }
#visualTempBar { transition: height 0.5s ease, y 0.5s ease; }
#mucusIcon { transition: transform 0.5s ease; }

@keyframes egg-travel {
  0% { cx: 260; cy: 250; opacity: 1; }
  20% { cx: 270; cy: 230; }
  40% { cx: 240; cy: 220; }
  60% { cx: 210; cy: 240; }
  80% { cx: 170; cy: 260; }
  100% { cx: 170; cy: 280; opacity: 0; }
}
.animate-egg { animation: egg-travel 3s linear forwards; }



/* =========================================
   NEW: TREATMENT SIMULATOR LAB STYLES
   ========================================= */
.treatment-lab-section {
  padding: 4rem 2rem;
  margin-bottom: 3rem;
  background: linear-gradient(180deg, #fff 0%, #fdf2f8 100%);
  border-radius: 32px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.05);
}

.lab-interface {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 2rem;
  align-items: start;
  max-width: 1300px;
  margin: 3rem auto 0;
}
@media (max-width: 968px) { .lab-interface { grid-template-columns: 1fr; } }

/* Command Center (Left) */
.command-center { display: flex; flex-direction: column; gap: 1rem; }

.treatment-trigger-card {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-soft);
  border-radius: 16px;
  padding: 1.2rem;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex; align-items: center; gap: 1rem;
}

.treatment-trigger-card:hover { transform: translateX(5px); background: white; box-shadow: 0 5px 20px rgba(236, 64, 122, 0.15); }
.treatment-trigger-card.active { border-left: 5px solid #d81b60; background: white; box-shadow: 0 10px 30px rgba(236, 64, 122, 0.2); }

.trigger-icon {
  width: 50px; height: 50px; border-radius: 12px; background: #fce4ec;
  display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #d81b60;
}
.trigger-content h4 { margin: 0; font-size: 1rem; color: #333; }
.trigger-content p { margin: 0.2rem 0 0; font-size: 0.8rem; color: #666; }
.play-indicator { margin-left: auto; font-size: 0.8rem; color: #d81b60; opacity: 0; transition: opacity 0.3s; font-weight: 700; text-transform: uppercase; }
.treatment-trigger-card:hover .play-indicator, .treatment-trigger-card.active .play-indicator { opacity: 1; }

/* Holographic Stage (Right) */
.holo-stage {
  background: #ffffff;
  border-radius: 24px;
  border: 1px solid rgba(0,0,0,0.05);
  box-shadow: 0 20px 50px rgba(0,0,0,0.1);
  overflow: hidden;
}

.stage-header {
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #f0f0f0;
  display: flex; justify-content: space-between; align-items: center;
  background: rgba(255,255,255,0.9);
}
.stage-status { font-family: monospace; color: #d81b60; font-weight: 700; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; }
.pulse-rec { width: 8px; height: 8px; background: #f44336; border-radius: 50%; animation: blink 1s infinite; }
@keyframes blink { 50% { opacity: 0; } }

.sim-canvas {
  height: 350px; 
  width: 100%;
  position: relative;
  background: radial-gradient(circle at center, #ffffff 0%, #fafafa 100%);
}

/* Biometrics HUD */
.bio-monitor {
  position: absolute; top: 15px; right: 15px;
  background: rgba(255, 255, 255, 0.95);
  padding: 1rem; border-radius: 12px; border: 1px solid rgba(0,0,0,0.05);
  box-shadow: 0 4px 15px rgba(0,0,0,0.05); width: 140px; z-index: 10;
}
.bio-header { font-size: 0.7rem; font-weight: 700; color: #880e4f; margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 0.5px; }
.bio-item { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
.bio-label { font-size: 0.7rem; color: #666; width: 30px; font-weight: 600; }
.bio-bar-bg { flex: 1; height: 4px; background: #eee; border-radius: 2px; overflow: hidden; }
.bio-bar-fill { height: 100%; width: 5%; background: #d81b60; transition: width 1s ease; }
.bio-temp { font-size: 0.85rem; color: #d81b60; font-weight: 700; margin-top: 0.8rem; border-top: 1px dashed #eee; padding-top: 0.5rem; text-align: right; }

/* Sensation HUD */
.sensation-hud { position: absolute; top: 15px; left: 15px; width: 200px; z-index: 10; }
.sensation-card {
  background: #fff3e0; border-left: 4px solid #ff9800;
  padding: 0.8rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  font-size: 0.8rem; color: #e65100; margin-bottom: 0.5rem;
  opacity: 0; transform: translateX(-20px); transition: all 0.5s ease;
}
.sensation-card.active { opacity: 1; transform: translateX(0); }

/* Details Panel */
.sim-details-panel {
  padding: 1.5rem 2rem; background: white; border-top: 1px solid #eee;
  display: grid; grid-template-columns: 1.2fr 1fr; gap: 2rem; align-items: start;
}
@media (max-width: 768px) { .sim-details-panel { grid-template-columns: 1fr; } }
.step-badge { background: #e3f2fd; color: #1565c0; font-size: 0.7rem; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; vertical-align: middle; }
.care-tip-box { background: #f1f8e9; border: 1px solid #c5e1a5; border-radius: 12px; padding: 1rem; }

/* SVG Simulation Classes */
.anatomy-base { fill: none; stroke: #ffcdd2; stroke-width: 2; }
.uterus-shape { fill: #fff0f6; stroke: #ec407a; stroke-width: 3; transition: all 1s ease; }
.ovary-shape { fill: #fce4ec; stroke: #d81b60; stroke-width: 2; transition: all 1s ease; transform-origin: center; }
.tube-shape { fill: none; stroke: #ec407a; stroke-width: 3; stroke-linecap: round; }

/* Active Animation States */
.enlarged-ovary { transform: scale(1.2); fill: #f8bbd0; }
.follicle { fill: #fff; stroke: #d81b60; stroke-width: 1; opacity: 0; transition: opacity 0.5s; }
.follicle.visible { opacity: 1; }
.sperm-cell { fill: #2196f3; opacity: 0; transition: all 2s; }
.sperm-cell.swimming { opacity: 1; transform: translateY(-30px); }
.catheter { stroke: #90a4ae; stroke-width: 4; stroke-linecap: round; opacity: 0; transition: all 1s; }
.catheter.inserted { opacity: 1; stroke-dasharray: 100; stroke-dashoffset: 0; animation: drawLine 1s ease forwards; }
.needle { stroke: #78909c; stroke-width: 2; opacity: 0; transition: all 1s; }
.needle.inserted { opacity: 1; transform: translateX(80px); }
.embryo-cell { fill: #8bc34a; opacity: 0; transition: opacity 0.5s; }
.cryo-tank { opacity: 0; transition: opacity 0.5s; }
.lab-dish-overlay {
  position: absolute; inset: 0; background: rgba(255,255,255,0.9);
  display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none; transition: opacity 0.5s;
}
.petri-dish { width: 180px; height: 180px; border-radius: 50%; border: 4px solid #e0e0e0; background: #fff; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.success-popup {
  position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(20px);
  background: #4caf50; color: white; padding: 0.6rem 1.2rem; border-radius: 50px;
  font-weight: 600; opacity: 0; transition: all 0.5s; z-index: 20;
}
.success-popup.show { opacity: 1; transform: translateX(-50%) translateY(0); }


  /* --- NEW COMPASS STYLES --- */
  
  .compass-grid {
    display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 2rem;
    align-items: start;
  }
  @media(max-width: 900px) { .compass-grid { grid-template-columns: 1fr; } }

  .panel-title { font-size: 1.1rem; color: #777; margin-bottom: 1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }

  /* FACTOR CARDS */
  .factor-cards { display: flex; flex-direction: column; gap: 0.8rem; }

  .factor-card {
    background: white;
    border-radius: 16px;
    padding: 1rem 1.5rem;
    cursor: pointer;
    border: 2px solid transparent;
    box-shadow: 0 4px 10px rgba(0,0,0,0.03);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
  }

  .factor-card:hover {
    transform: translateY(-2px) translateX(5px);
    box-shadow: 0 8px 20px rgba(236, 64, 122, 0.1);
  }

  .factor-header { display: flex; align-items: center; gap: 1rem; }
  
  .factor-icon {
    width: 40px; height: 40px;
    background: #fce4ec; color: #d81b60;
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.2rem; transition: all 0.3s;
  }

  .factor-label { flex: 1; }
  .factor-label strong { display: block; color: #333; font-size: 1rem; }
  .factor-label span { font-size: 0.85rem; color: #777; }

  .check-circle {
    width: 28px; height: 28px;
    border-radius: 50%;
    border: 2px solid #e0e0e0;
    display: flex; align-items: center; justify-content: center;
    color: white; transition: all 0.3s;
  }

  /* Active State for Card */
  .factor-card.active {
    border-color: #ec407a;
    background: #fff0f5;
  }
  .factor-card.active .check-circle {
    background: #ec407a; border-color: #ec407a; transform: scale(1.1);
  }
  .factor-card.active .factor-icon {
    background: white; color: #ec407a;
  }

  /* Context Toggle */
  .factor-context {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease;
    opacity: 0.8;
  }
  .factor-card.active .factor-context {
    max-height: 100px; /* Expands when active */
    margin-top: 0.8rem;
    padding-top: 0.8rem;
    border-top: 1px solid rgba(236, 64, 122, 0.2);
  }
  .factor-context p { margin: 0; font-size: 0.85rem; color: #555; line-height: 1.4; }

  /* RIGHT MONITOR */
  .result-monitor-wrapper { position: sticky; top: 20px; }
  
  .result-monitor {
    background: white;
    border-radius: 24px;
    padding: 2rem;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.08);
    transition: all 0.3s;
    border: 1px solid #eee;
  }

  /* Urgency Meter */
  .monitor-header { margin-bottom: 2rem; }
  .urgency-meter {
    height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden; margin-bottom: 0.5rem;
  }
  .meter-bar {
    height: 100%; width: 5%; background: #4caf50;
    border-radius: 4px; transition: width 0.5s, background 0.5s;
  }
  .urgency-label { font-size: 0.75rem; font-weight: 700; color: #999; letter-spacing: 1px; text-transform: uppercase; }

  /* Status Display */
  .status-icon-glow {
    font-size: 4rem; margin-bottom: 1rem;
    display: inline-block;
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  
  .status-pill {
    display: inline-block; padding: 0.4rem 1.2rem;
    border-radius: 50px; background: #f5f5f5; color: #777;
    font-weight: 700; font-size: 0.85rem; text-transform: uppercase;
    margin-top: 0.5rem; transition: all 0.3s;
  }

  .action-plan {
    margin-top: 1.5rem;
    background: #fafafa;
    border-radius: 16px;
    padding: 1.5rem;
    text-align: left;
    display: none; /* Hidden by default */
    animation: slideUp 0.4s ease;
  }
  
  .plan-header { font-weight: 700; color: #d81b60; margin-bottom: 1rem; font-size: 0.95rem; }
  
  .step-row {
    display: flex; align-items: center; gap: 1rem; margin-bottom: 0.8rem;
    padding: 0.8rem; background: white; border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.03);
  }
  .step-icon { color: #ec407a; }
  .step-text { font-size: 0.9rem; font-weight: 500; color: #444; }

  /* Animations */
  @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  .alert-mode .status-icon-glow { animation: pulse-alert 2s infinite; }
  @keyframes pulse-alert { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

    /* =========================================
       FOOTER
       ========================================= */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    footer.ns-footer{background:#1e1a1e; color:#c9bfc9; font-family:'DM Sans',sans-serif; border-top:1px solid rgba(232,81,122,0.18);}
    .footer-main{max-width:1200px; margin:0 auto; padding:56px 32px 48px; display:grid; grid-template-columns:repeat(4,1fr); gap:40px;}
    .footer-col h3{font-family:'Playfair Display',Georgia,serif; font-size:1.05rem; font-weight:600; color:#e8517a; margin-bottom:18px; letter-spacing:.01em;}
    .footer-col p{font-size:.875rem; line-height:1.75; color:#c9bfc9; font-weight:300;}
    .footer-col ul{list-style:none;}
    .footer-col ul li{font-size:.875rem; color:#c9bfc9; padding:5px 0; font-weight:300; position:relative; padding-left:14px; transition:color .2s;}
    .footer-col ul li::before{content:''; position:absolute; left:0; top:50%; transform:translateY(-50%); width:5px; height:5px; border-radius:50%; background:#e8517a; opacity:.5;}
    .footer-col ul li:hover{color:#f0748e;}
    .disclaimer-text{font-size:.875rem; line-height:1.75; color:#c9bfc9; font-weight:300;}
    .emergency-alert{font-size:.875rem; line-height:1.7; color:#e8517a; font-weight:500;}
    .emergency-alert strong{font-weight:600;}
    .footer-meta{border-top:1px solid rgba(232,81,122,0.18); max-width:1200px; margin:0 auto; padding:28px 32px; text-align:center;}
    .footer-meta .meta-line{font-size:.8rem; color:#7c7080; letter-spacing:.04em; margin-bottom:10px;}
    .footer-meta .meta-line .sep{color:#e8517a; margin:0 6px;}
    .footer-meta .tagline{font-size:.82rem; color:#7c7080; display:flex; align-items:center; justify-content:center; gap:6px;}
    .footer-meta .tagline .heart{color:#e8517a; font-size:1rem; animation:footerPulse 2s ease-in-out infinite;}
    @keyframes footerPulse{0%,100%{transform:scale(1); opacity:1;} 50%{transform:scale(1.25); opacity:.8;}}
    .footer-bottom{background:#161316; border-top:1px solid rgba(255,255,255,.04);}
    .footer-bottom-inner{max-width:1200px; margin:0 auto; padding:22px 32px; display:flex; flex-direction:column; align-items:center; gap:10px;}
    .footer-links{display:flex; gap:36px; flex-wrap:wrap; justify-content:center;}
    .footer-links a{font-size:.82rem; color:#7c7080; text-decoration:none; letter-spacing:.03em; transition:color .2s;}
    .footer-links a:hover{color:#f0748e;}
    .footer-copy{font-size:.78rem; color:#7c7080; opacity:.7; letter-spacing:.02em;}
    @media(max-width:900px){.footer-main{grid-template-columns:repeat(2,1fr); gap:32px;}}
    @media(max-width:540px){.footer-main{grid-template-columns:1fr; padding:40px 20px 32px;} .footer-meta{padding:20px;} .footer-bottom-inner{padding:18px 20px;} .footer-links{gap:20px;}}

    /* =========================================
       SCROLL ANIMATIONS
       ========================================= */
    .fade-in-up {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
    }

    .fade-in-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* =========================================
       COMPREHENSIVE MOBILE RESPONSIVE CSS
       ========================================= */

    /* --- Global safety net --- */
    html, body { max-width: 100%; overflow-x: hidden; }

    /* --- Page container padding on mobile --- */
    @media (max-width: 768px) {
      .page-container { padding: 1rem; }
    }
    @media (max-width: 480px) {
      /* Prevent double-padding from nested .page-container */
      .page-container .page-container { padding: 0; }
    }

    /* â”€â”€ HERO â”€â”€ */
    @media (max-width: 968px) {
      .hero-constellation {
        padding: 2.5rem 1.25rem;
        border-radius: 24px;
        margin-bottom: 2rem;
      }
      /* On single-column, right panel stacks below */
      .hero-right { min-height: 340px; }
    }

    @media (max-width: 768px) {
      .hero-constellation {
        min-height: auto;
        padding: 2rem 1rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .hero-title-3d { font-size: clamp(1.8rem, 7vw, 2.6rem); }
      .hero-description { font-size: 1rem; max-width: 100%; }
      .hero-right { min-height: auto; }
      .cycle-visualizer { max-width: 260px; }
      .cycle-day-display { font-size: 2.2rem; }
      .cycle-phase-name { font-size: 0.95rem; }
      .cycle-emoji { font-size: 1.6rem; }
      .badge-constellation { gap: 0.5rem; }
      .hero-badge-3d { font-size: 0.8rem; padding: 0.4rem 0.8rem; }
      .hero-cta-constellation { flex-direction: column; gap: 0.75rem; }
      .btn-primary-3d, .btn-secondary-3d {
        justify-content: center;
        width: 100%;
        padding: 0.8rem 1.4rem;
        font-size: 0.95rem;
      }
      /* Fix: phase cards are invisible when position:static unless forced visible */
      .phase-cards-orbit {
        position: static;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        margin-top: 1rem;
        pointer-events: auto;
      }
      .phase-card-floating {
        position: static !important;
        opacity: 1 !important;
        transform: scale(1) !important;
        min-width: unset;
        border-radius: 12px;
      }
    }

    @media (max-width: 480px) {
      .hero-constellation { padding: 1.5rem 0.75rem; border-radius: 16px; }
      .cycle-visualizer { max-width: 220px; }
      .hero-badge-3d { font-size: 0.75rem; padding: 0.35rem 0.7rem; }
    }

    /* â”€â”€ SECTION TITLES â”€â”€ */
    @media (max-width: 768px) {
      .section-title, .section-title-lg {
        font-size: clamp(1.4rem, 6vw, 2rem);
      }
      .section-header { margin-bottom: 1.75rem; }
      .section-subtitle, .sub-head {
        font-size: 0.95rem;
        margin-bottom: 1.75rem;
      }
    }
    @media (max-width: 480px) {
      .section-title, .section-title-lg { font-size: clamp(1.25rem, 7vw, 1.75rem); }
    }

    /* â”€â”€ BODY SIMULATOR â”€â”€ */
    @media (max-width: 768px) {
      .body-simulator-section {
        padding: 2rem 1rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .body-controls { position: static; }
      .control-panel { padding: 1.25rem; }
      .factor-buttons { grid-template-columns: repeat(3, 1fr); gap: 0.6rem; }
      .factor-btn { padding: 0.65rem 0.5rem; font-size: 0.82rem; }
      /* Hormone label shrinks on narrow screens */
      .h-bar-group label { width: 68px; font-size: 0.78rem; }

      /* Body visualization: switch to a stacking flow layout */
      .body-visualization {
        min-height: auto;
        padding: 0;
        display: flex;
        flex-direction: column;
      }
      /* Insight card becomes a static header block */
      .sim-insight-card {
        position: static !important;
        border-radius: 12px;
        margin: 0.75rem 0.75rem 0;
        border-left-width: 4px;
      }
      /* Factor overlay goes below insight card */
      .factor-impact-overlay {
        position: static !important;
        border-radius: 12px;
        margin: 0 0.75rem 0;
        box-shadow: none;
        border: 1px solid #eee;
        transform: none !important;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
      }
      .factor-impact-overlay.active {
        opacity: 1;
        pointer-events: auto;
      }
      /* SVG body container centred */
      .body-svg-container {
        max-width: 280px;
        margin: 0 auto;
      }
    }

    @media (max-width: 480px) {
      .body-simulator-section { padding: 1.5rem 0.75rem; border-radius: 16px; }
      .factor-buttons { grid-template-columns: 1fr 1fr; }
      .factor-btn { font-size: 0.8rem; padding: 0.6rem 0.4rem; }
      .h-bar-group label { width: 58px; }
      .body-svg-container { max-width: 240px; }
    }
    @media (max-width: 360px) {
      .factor-buttons { grid-template-columns: 1fr; }
      .body-svg-container { max-width: 210px; }
    }

    /* â”€â”€ FERTILITY METHODS GRID â”€â”€ */
    @media (max-width: 768px) {
      .methods-section { margin-bottom: 1.5rem; }
      .methods-grid { grid-template-columns: 1fr 1fr; gap: 1rem; }
      .method-card { padding: 1.4rem 1.2rem; }
      .method-icon { width: 52px; height: 52px; font-size: 1.6rem; }
      .method-card h3 { font-size: 1.05rem; }
    }
    @media (max-width: 520px) {
      .methods-grid { grid-template-columns: 1fr; }
    }

    /* â”€â”€ TIMELINE â”€â”€ */
    @media (max-width: 768px) {
      .timeline-section {
        padding: 2rem 1rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .timeline-line { left: 24px; }
      .timeline-item {
        grid-template-columns: 1fr;
        padding-left: 70px;
        gap: 1rem;
        margin-bottom: 2rem;
      }
      .timeline-item:nth-child(even) .timeline-content { order: 0; }
      .timeline-marker { left: 24px; width: 48px; height: 48px; font-size: 1.2rem; }
      .timeline-content { padding: 1.2rem; }
      .timeline-content h3 { font-size: 1.05rem; }
      .timeline-visual { display: none; }
    }
    @media (max-width: 480px) {
      .timeline-section { padding: 1.5rem 0.75rem; border-radius: 16px; }
      .timeline-item { padding-left: 60px; }
      .timeline-marker { left: 16px; width: 42px; height: 42px; font-size: 1rem; }
    }

    /* â”€â”€ TIPS GRID â”€â”€ */
    @media (max-width: 768px) {
      .tips-section { margin-bottom: 1.5rem; }
      .tips-grid { grid-template-columns: 1fr 1fr; gap: 1rem; }
      .tip-card { padding: 1.4rem 1.2rem; }
      .tip-icon { width: 48px; height: 48px; font-size: 1.4rem; }
      .tip-card h3 { font-size: 1rem; }
    }
    @media (max-width: 520px) {
      .tips-grid { grid-template-columns: 1fr; }
    }

    /* â”€â”€ SPECIALIST / COMPASS â”€â”€ */
    @media (max-width: 900px) {
      .specialist-section { padding: 2.5rem 1.25rem; }
    }
    @media (max-width: 768px) {
      .specialist-section {
        padding: 2rem 1rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .compass-grid { grid-template-columns: 1fr; gap: 1.5rem; }
      .result-monitor-wrapper { position: static; }
      .result-monitor { padding: 1.5rem; }
      .factor-card { padding: 0.9rem 1.1rem; }
    }
    @media (max-width: 480px) {
      .specialist-section { padding: 1.5rem 0.75rem; border-radius: 16px; }
      .factor-card { padding: 0.8rem; }
      .factor-label strong { font-size: 0.9rem; }
      .factor-label span { font-size: 0.78rem; }
    }

    /* â”€â”€ TREATMENT OPTIONS LAB (glass cards) â”€â”€ */
    @media (max-width: 768px) {
      .treatment-section { padding: 2rem 0; margin-bottom: 1.5rem; }
      /* Fix: minmax(320px) causes overflow â€” force single column */
      .treatment-grid { grid-template-columns: 1fr; gap: 1rem; }
      .glass-card { padding: 1.5rem; }
      .glass-icon-wrapper { width: 56px; height: 56px; font-size: 1.4rem; }
    }
    @media (max-width: 480px) {
      .treatment-section { padding: 1.5rem 0; }
    }

    /* â”€â”€ EMOTIONAL SANCTUARY (Bubbles) â”€â”€ */
    @media (max-width: 768px) {
      .sanctuary-section {
        padding: 2rem 1rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .bubble-container {
        gap: 1.2rem;
        flex-direction: column;
        align-items: center;
      }
      .support-bubble { width: 220px; height: 220px; }
    }
    @media (max-width: 480px) {
      .sanctuary-section { padding: 1.5rem 0.75rem; border-radius: 16px; }
      .support-bubble { width: 190px; height: 190px; padding: 1.25rem; }
      .support-bubble h3 { font-size: 1rem; }
      .support-bubble p { font-size: 0.82rem; }
    }
    @media (max-width: 360px) {
      .support-bubble { width: 170px; height: 170px; padding: 1rem; }
    }

    /* â”€â”€ CTA SECTION â”€â”€ */
    @media (max-width: 768px) {
      .cta-section {
        padding: 2.5rem 1.25rem;
        border-radius: 20px;
        margin-bottom: 1.5rem;
      }
      .cta-section h2 { font-size: clamp(1.5rem, 6vw, 2rem); }
      .cta-section p { font-size: 1rem; }
      /* Fix: class was .cta-btns in old rule but HTML uses .cta-buttons */
      .cta-buttons {
        flex-direction: column;
        align-items: stretch;
        gap: 0.85rem;
      }
      .cta-btn-white, .cta-btn-outline {
        width: 100%;
        justify-content: center;
        font-size: 1rem;
        padding: 0.9rem 1.5rem;
      }
    }
    @media (max-width: 480px) {
      .cta-section { padding: 2rem 1rem; border-radius: 16px; }
      .cta-section h2 { font-size: 1.5rem; }
    }

    /* â”€â”€ TREATMENT SIMULATOR MODAL â”€â”€ */
    @media (max-width: 768px) {
      .tx-modal-container {
        height: 95vh;
        border-radius: 16px;
        width: 98%;
      }
      .tx-close-btn { top: 10px; right: 12px; width: 40px; height: 40px; font-size: 1.8rem; }
      .treatment-lab-section { padding: 2rem 1rem; }
      .lab-interface { grid-template-columns: 1fr; gap: 1.2rem; margin-top: 1.5rem; }
      .holo-stage { border-radius: 16px; }
      .sim-canvas { height: 260px; }
      /* HUDs overlap on narrow canvas â€” shrink & reposition */
      .bio-monitor { width: 120px; top: 10px; right: 10px; padding: 0.7rem; }
      .bio-header { font-size: 0.65rem; }
      .bio-label { width: 24px; font-size: 0.65rem; }
      .bio-temp { font-size: 0.78rem; }
      .sensation-hud { width: 150px; top: 10px; left: 10px; }
      .sensation-card { font-size: 0.72rem; padding: 0.6rem; }
      .sim-details-panel { padding: 1.25rem; gap: 1rem; }
    }
    @media (max-width: 480px) {
      .treatment-lab-section { padding: 1.5rem 0.75rem; }
      .tx-modal-container { width: 100%; border-radius: 12px 12px 0 0; top: auto; bottom: 0; height: 92vh; }
      .tx-modal-overlay { align-items: flex-end; }
      .sim-canvas { height: 220px; }
      .bio-monitor { width: 105px; padding: 0.5rem; }
      .sensation-hud { width: 130px; }
      .treatment-trigger-card { padding: 0.8rem; gap: 0.75rem; }
      .trigger-icon { width: 40px; height: 40px; font-size: 1.2rem; }
      .trigger-content h4 { font-size: 0.9rem; }
      .trigger-content p { font-size: 0.75rem; }
    }
    @media (max-width: 360px) {
      /* On the narrowest phones, hide the two overlapping HUDs inside modal canvas */
      .bio-monitor { display: none; }
      .sensation-hud { display: none; }
    }

    /* â”€â”€ NAV / HEADER â”€â”€ */
    @media (max-width: 600px) {
      .nav-container { padding: 0 1rem; }
      .logo-text a { font-size: 1.05rem; }
      .logo-icon { width: 34px; height: 34px; }
      .logo-text span { font-size: 0.55rem; }
    }
    @media (max-width: 400px) {
      .logo-text a { font-size: 0.95rem; }
      .logo-text span { display: none; }
    }

    /* â”€â”€ NESTED PAGE-CONTAINER PADDING FIX â”€â”€ */
    /* The second .page-container inside the first doubles padding on mobile */
    @media (max-width: 768px) {
      .page-container > .page-container {
        padding-left: 0;
        padding-right: 0;
      }
    }

    /* â”€â”€ VERY SMALL PHONES (â‰¤360px) â”€â”€ */
    @media (max-width: 360px) {
      .page-container { padding: 0.75rem; }
      .btn-primary-3d, .btn-secondary-3d { font-size: 0.88rem; padding: 0.7rem 1rem; }
      .hero-cta-constellation { gap: 0.5rem; }
      .method-card, .tip-card, .glass-card { padding: 1.1rem 0.9rem; }
      .checklist-item { padding: 0.75rem; }
    }

    /* â”€â”€ SCROLL ANIMATIONS â”€â”€ */
    .fade-in-up {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
    }
    .fade-in-up.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

<!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="nav-container">
      <!-- Logo -->
      <div class="logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="white">
            <circle cx="12" cy="5.5" r="2.8"/>
            <path d="M9.3 4.8 Q9.1 2.5 12 2.2 Q14.9 2.5 14.7 4.8" opacity="0.7"/>
            <path d="M9.5 13.2 Q9 10.5 10 9.3 Q11 8.6 12 8.6 Q13 8.6 14 9.3 Q15 10.5 14.5 13.2Z"/>
            <path d="M9.5 13.2 Q7.2 13.8 6.8 16.2 Q7.8 16.4 8.8 15Z" opacity="0.85"/>
            <path d="M14.5 13.2 Q16.8 13.8 17.2 16.2 Q16.2 16.4 15.2 15Z" opacity="0.85"/>
            <path d="M8.8 15 Q8.2 17.5 9.5 19.5 Q11 21 12 21 Q13 21 14.5 19.5 Q15.8 17.5 15.2 15Z"/>
          </svg>
        </div>
        <div class="logo-text">
          <a href="index.html">Nari Swasthya</a>
          <span>Women's Complete Health</span>
        </div>
      </div>

      <nav class="main-nav" aria-label="Main navigation">
        <div class="nav-item"><a href="index.html" class="nav-link">Home</a></div>

        <!-- Journeys dropdown -->
        <div class="nav-item">
          <button class="nav-link" aria-haspopup="true">Journeys <i class="fa-solid fa-chevron-down chevron"></i></button>
          <div class="nav-dropdown">
            <a href="journeys.html" class="dd-item" style="background:linear-gradient(135deg,rgba(236,64,122,0.08),rgba(173,20,87,0.04));border-radius:10px;margin-bottom:.3rem;">
              <div class="dd-icon" style="background:linear-gradient(135deg,#ec407a,#ad1457);color:white;"><i class="fa-solid fa-map"></i></div>
              <div><strong style="display:block;font-size:.82rem;color:#d81b60;">View Full Journeys</strong><span style="font-size:.73rem;color:#555;">Browse all her journeys</span></div>
            </a>
            <div class="dd-sep"></div>
            <a href="conceiving.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#c2185b;"><i class="fa-solid fa-seedling"></i></div><div><strong style="display:block;font-size:.82rem;">Conceiving</strong><span style="font-size:.73rem;color:#555;">Preparation &amp; planning</span></div></a>
            <a href="fertility.html" class="dd-item"><div class="dd-icon" style="background:#f3e5f5;color:#7b1fa2;"><i class="fa-solid fa-dna"></i></div><div><strong style="display:block;font-size:.82rem;">Fertility</strong><span style="font-size:.73rem;color:#555;">Cycle &amp; ovulation</span></div></a>
            <!-- Pregnancy Journey with flyout sub-items -->
            <div class="dd-item dd-has-flyout">
              <div class="dd-icon" style="background:#fce4ec;color:#ec407a;"><i class="fa-solid fa-baby-carriage"></i></div>
              <a href="pregnancy_journey.html" style="text-decoration:none;color:inherit;flex:1;"><strong style="display:block;font-size:.82rem;">Pregnancy Journey</strong><span style="font-size:.73rem;color:#555;">Week by week guide</span></a>
              <i class="fa-solid fa-chevron-right dd-flyout-arrow"></i>
              <div class="dd-flyout">
                <a href="normal_delivery.html" class="dd-item"><div class="dd-icon" style="background:#e8f5e9;color:#2e7d32;"><i class="fa-solid fa-circle-check"></i></div><div><strong style="display:block;font-size:.82rem;">Normal Delivery</strong><span style="font-size:.73rem;color:#555;">Vaginal birth guide</span></div></a>
                <a href="csection.html" class="dd-item"><div class="dd-icon" style="background:#e3f2fd;color:#1565c0;"><i class="fa-solid fa-hospital"></i></div><div><strong style="display:block;font-size:.82rem;">C-Section</strong><span style="font-size:.73rem;color:#555;">Surgical birth info</span></div></a>
                <a href="pregnancy_loss.html" class="dd-item"><div class="dd-icon" style="background:#fafafa;color:#9e9e9e;"><i class="fa-solid fa-hands-holding-heart"></i></div><div><strong style="display:block;font-size:.82rem;">Pregnancy Loss</strong><span style="font-size:.73rem;color:#555;">Support &amp; care</span></div></a>
              </div>
            </div>
            <a href="antenatal_care.html" class="dd-item"><div class="dd-icon" style="background:#e8f5e9;color:#2e7d32;"><i class="fa-solid fa-clipboard-list"></i></div><div><strong style="display:block;font-size:.82rem;">Antenatal Care</strong><span style="font-size:.73rem;color:#555;">ANC visits &amp; checklist</span></div></a>
            <!-- NCD with flyout sub-items -->
            <div class="dd-item dd-has-flyout">
              <div class="dd-icon" style="background:#e8eaf6;color:#283593;"><i class="fa-solid fa-heart-pulse"></i></div>
              <a href="ncd_pregnancy.html" style="text-decoration:none;color:inherit;flex:1;"><strong style="display:block;font-size:.82rem;">Non Communicable Diseases</strong><span style="font-size:.73rem;color:#555;">Diabetes, hypertension &amp; more</span></a>
              <i class="fa-solid fa-chevron-right dd-flyout-arrow"></i>
              <div class="dd-flyout">
                <a href="gestational_diabetes.html" class="dd-item"><div class="dd-icon" style="background:#fff8e1;color:#f57f17;"><i class="fa-solid fa-droplet"></i></div><div><strong style="display:block;font-size:.82rem;">Gestational Diabetes</strong><span style="font-size:.73rem;color:#555;">Manage blood sugar</span></div></a>
                <a href="preeclampsia_education.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#c2185b;"><i class="fa-solid fa-heart-circle-exclamation"></i></div><div><strong style="display:block;font-size:.82rem;">Preeclampsia</strong><span style="font-size:.73rem;color:#555;">Blood pressure care</span></div></a>
                <a href="cancer_simulation_journey.html" class="dd-item"><div class="dd-icon" style="background:#f3e5f5;color:#6a1b9a;"><i class="fa-solid fa-ribbon"></i></div><div><strong style="display:block;font-size:.82rem;">Cancer</strong><span style="font-size:.73rem;color:#555;">Simulation journey</span></div></a>
              </div>
            </div>
            <a href="newborn_postpartum_care.html" class="dd-item"><div class="dd-icon" style="background:#e3f2fd;color:#1565c0;"><i class="fa-solid fa-baby"></i></div><div><strong style="display:block;font-size:.82rem;">Newborn &amp; Postpartum</strong><span style="font-size:.73rem;color:#555;">4th trimester care</span></div></a>
            <a href="breastfeeding_journey.html" class="dd-item"><div class="dd-icon" style="background:#fff8e1;color:#f57c00;"><i class="fa-solid fa-heart"></i></div><div><strong style="display:block;font-size:.82rem;">Breastfeeding</strong><span style="font-size:.73rem;color:#555;">Latch, supply, nutrition</span></div></a>
            <a href="menopause.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#ad1457;"><i class="fa-solid fa-fire-flame-curved"></i></div><div><strong style="display:block;font-size:.82rem;">Menopause</strong><span style="font-size:.73rem;color:#555;">Perimenopause &amp; beyond</span></div></a>
          </div>
        </div>

        <!-- Services dropdown (active) -->
        <div class="nav-item">
          <button class="nav-link active" aria-haspopup="true">Services <i class="fa-solid fa-chevron-down chevron"></i></button>
          <div class="nav-dropdown">
            <a href="services.html" class="dd-item" style="background:linear-gradient(135deg,rgba(236,64,122,0.08),rgba(173,20,87,0.04));border-radius:10px;margin-bottom:.3rem;">
              <div class="dd-icon" style="background:linear-gradient(135deg,#ec407a,#ad1457);color:white;"><i class="fa-solid fa-grid-2"></i></div>
              <div><strong style="display:block;font-size:.82rem;color:#d81b60;">Services Available</strong><span style="font-size:.73rem;color:#555;">Browse all our services</span></div>
            </a>
            <div class="dd-sep"></div>
            <a href="symptom_checker.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#c2185b;"><i class="fa-solid fa-stethoscope"></i></div><div><strong style="display:block;font-size:.82rem;">Symptom Checker</strong><span style="font-size:.73rem;color:#555;">AI-powered diagnosis</span></div></a>
            <a href="dashboard.html" class="dd-item"><div class="dd-icon" style="background:#e8f5e9;color:#2e7d32;"><i class="fa-solid fa-gauge-high"></i></div><div><strong style="display:block;font-size:.82rem;">My Dashboard</strong><span style="font-size:.73rem;color:#555;">Track your health</span></div></a>
            <a href="screening.html" class="dd-item"><div class="dd-icon" style="background:#e3f2fd;color:#1565c0;"><i class="fa-solid fa-magnifying-glass-plus"></i></div><div><strong style="display:block;font-size:.82rem;">Health Screening</strong><span style="font-size:.73rem;color:#555;">Cancer &amp; preventive</span></div></a>
            <a href="vaccination.html" class="dd-item"><div class="dd-icon" style="background:#f3e5f5;color:#7b1fa2;"><i class="fa-solid fa-syringe"></i></div><div><strong style="display:block;font-size:.82rem;">Vaccination</strong><span style="font-size:.73rem;color:#555;">Immunization schedule</span></div></a>
            <a href="otc.html" class="dd-item"><div class="dd-icon" style="background:#e0f7fa;color:#006064;"><i class="fa-solid fa-pills"></i></div><div><strong style="display:block;font-size:.82rem;">OTC Medicine Guide</strong><span style="font-size:.73rem;color:#555;">Safe self-care options</span></div></a>
            <a href="government_schemes.html" class="dd-item"><div class="dd-icon" style="background:#fff8e1;color:#e65100;"><i class="fa-solid fa-landmark"></i></div><div><strong style="display:block;font-size:.82rem;">Govt Schemes</strong><span style="font-size:.73rem;color:#555;">Benefits you deserve</span></div></a>
            <a href="insurance.html" class="dd-item"><div class="dd-icon" style="background:#e8f5e9;color:#1b5e20;"><i class="fa-solid fa-shield-halved"></i></div><div><strong style="display:block;font-size:.82rem;">Insurance</strong><span style="font-size:.73rem;color:#555;">Coverage &amp; claims guide</span></div></a>
          </div>
        </div>

        <div class="nav-item"><a href="stories.html" class="nav-link">Stories</a></div>
        <div class="nav-item"><a href="about.html" class="nav-link">About Us</a></div>

        <!-- Additional Info dropdown -->
        <div class="nav-item">
          <button class="nav-link" aria-haspopup="true">Additional Info <i class="fa-solid fa-chevron-down chevron"></i></button>
          <div class="nav-dropdown" style="min-width:240px;">
            <div style="padding:.4rem .9rem .2rem;font-size:.7rem;font-weight:700;color:#555;text-transform:uppercase;letter-spacing:.08em;">Health Topics</div>
            <a href="fertility.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#ec407a;"><i class="fa-solid fa-seedling"></i></div><div><strong style="display:block;font-size:.82rem;">Fertility</strong><span style="font-size:.73rem;color:#555;">Cycle, conceiving &amp; IVF</span></div></a>
            <a href="pregnancy_journey.html" class="dd-item"><div class="dd-icon" style="background:#f3e5f5;color:#7b1fa2;"><i class="fa-solid fa-baby-carriage"></i></div><div><strong style="display:block;font-size:.82rem;">Pregnancy</strong><span style="font-size:.73rem;color:#555;">All trimesters covered</span></div></a>
            <a href="newborn_postpartum_care.html" class="dd-item"><div class="dd-icon" style="background:#e3f2fd;color:#1565c0;"><i class="fa-solid fa-baby"></i></div><div><strong style="display:block;font-size:.82rem;">Motherhood</strong><span style="font-size:.73rem;color:#555;">Newborn &amp; postpartum</span></div></a>
            <a href="menopause.html" class="dd-item"><div class="dd-icon" style="background:#e8f5e9;color:#2e7d32;"><i class="fa-solid fa-spa"></i></div><div><strong style="display:block;font-size:.82rem;">Wellness</strong><span style="font-size:.73rem;color:#555;">Menopause, bone, mental</span></div></a>
            <div class="dd-sep"></div>
            <a href="community.html" class="dd-item"><div class="dd-icon" style="background:#ede7f6;color:#4527a0;"><i class="fa-solid fa-users"></i></div><div><strong style="display:block;font-size:.82rem;">Community</strong><span style="font-size:.73rem;color:#555;">Share &amp; connect</span></div></a>
            <div class="dd-sep"></div>
            <div style="padding:.4rem .9rem .2rem;font-size:.7rem;font-weight:700;color:#555;text-transform:uppercase;letter-spacing:.08em;">Specialised Care</div>
            <!-- NCD with flyout sub-items â€” first item -->
            <div class="dd-item dd-has-flyout">
              <div class="dd-icon" style="background:#e8eaf6;color:#283593;"><i class="fa-solid fa-heart-pulse"></i></div>
              <a href="ncd_pregnancy.html" style="text-decoration:none;color:inherit;flex:1;"><strong style="display:block;font-size:.82rem;">Non Communicable Diseases</strong><span style="font-size:.73rem;color:#555;">Diabetes, hypertension &amp; more</span></a>
              <i class="fa-solid fa-chevron-right dd-flyout-arrow"></i>
              <div class="dd-flyout">
                <a href="gestational_diabetes.html" class="dd-item"><div class="dd-icon" style="background:#fff8e1;color:#f57f17;"><i class="fa-solid fa-droplet"></i></div><div><strong style="display:block;font-size:.82rem;">Gestational Diabetes</strong><span style="font-size:.73rem;color:#555;">Manage blood sugar</span></div></a>
                <a href="preeclampsia_education.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#c2185b;"><i class="fa-solid fa-heart-circle-exclamation"></i></div><div><strong style="display:block;font-size:.82rem;">Preeclampsia</strong><span style="font-size:.73rem;color:#555;">Blood pressure care</span></div></a>
                <a href="cancer_simulation_journey.html" class="dd-item"><div class="dd-icon" style="background:#f3e5f5;color:#6a1b9a;"><i class="fa-solid fa-ribbon"></i></div><div><strong style="display:block;font-size:.82rem;">Cancer</strong><span style="font-size:.73rem;color:#555;">Simulation journey</span></div></a>
              </div>
            </div>
            <a href="bone_health.html" class="dd-item"><div class="dd-icon" style="background:#fce4ec;color:#ad1457;"><i class="fa-solid fa-bone"></i></div><div><strong style="display:block;font-size:.82rem;">Bone Health</strong><span style="font-size:.73rem;color:#555;">Osteoporosis prevention</span></div></a>
            <a href="depression.html" class="dd-item"><div class="dd-icon" style="background:#fff8e1;color:#f57f17;"><i class="fa-solid fa-brain"></i></div><div><strong style="display:block;font-size:.82rem;">Mental Health</strong><span style="font-size:.73rem;color:#555;">Anxiety, depression, support</span></div></a>
            <a href="loss_support.html" class="dd-item"><div class="dd-icon" style="background:#fafafa;color:#9e9e9e;"><i class="fa-solid fa-hands-holding-heart"></i></div><div><strong style="display:block;font-size:.82rem;">Loss Support</strong><span style="font-size:.73rem;color:#555;">You are never alone</span></div></a>
          </div>
        </div>
      </nav>

      <!-- Right: Sign In + Contact Us -->
      <div class="nav-actions">
        <a class="btn-nav outline" href="login.html"><i class="fa-regular fa-user"></i> Sign In</a>
        <a class="btn-nav primary" href="contact.html"><i class="fa-solid fa-envelope"></i> Contact Us</a>
        <button class="hamburger" id="hamburgerBtn" aria-label="Menu" onclick="toggleMobile()">
          <span id="hb1"></span><span id="hb2"></span><span id="hb3"></span>
        </button>
      </div>
    </div>
  </header>


<!-- Mobile Menu -->
  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <div class="mm-section">Navigation</div>
    <a href="index.html" class="mm-link"><i class="fa-solid fa-house" style="color:#d81b60;width:20px;"></i> Home</a>
    <div class="mm-section">Journeys</div>
    <a href="conceiving.html" class="mm-link"><i class="fa-solid fa-seedling" style="color:#d81b60;width:20px;"></i> Conceiving</a>
    <a href="fertility.html" class="mm-link"><i class="fa-solid fa-dna" style="color:#d81b60;width:20px;"></i> Fertility</a>
    <a href="pregnancy_journey.html" class="mm-link"><i class="fa-solid fa-baby-carriage" style="color:#d81b60;width:20px;"></i> Pregnancy Journey</a>
    <a href="normal_delivery.html" class="mm-link" style="padding-left:2.5rem;font-size:.88rem;"><i class="fa-solid fa-circle-check" style="color:#ec407a;width:20px;"></i> Normal Delivery</a>
    <a href="csection.html" class="mm-link" style="padding-left:2.5rem;font-size:.88rem;"><i class="fa-solid fa-circle-check" style="color:#ec407a;width:20px;"></i> C-Section</a>
    <a href="pregnancy_loss.html" class="mm-link" style="padding-left:2.5rem;font-size:.88rem;"><i class="fa-solid fa-circle-check" style="color:#9e9e9e;width:20px;"></i> Pregnancy Loss</a>
    <a href="antenatal_care.html" class="mm-link"><i class="fa-solid fa-clipboard-list" style="color:#d81b60;width:20px;"></i> Antenatal Care</a>
    <a href="newborn_postpartum_care.html" class="mm-link"><i class="fa-solid fa-baby" style="color:#d81b60;width:20px;"></i> Newborn &amp; Postpartum</a>
    <a href="breastfeeding_journey.html" class="mm-link"><i class="fa-solid fa-heart" style="color:#d81b60;width:20px;"></i> Breastfeeding</a>
    <a href="menopause.html" class="mm-link"><i class="fa-solid fa-fire-flame-curved" style="color:#d81b60;width:20px;"></i> Menopause</a>
    <div class="mm-section">Services</div>
    <a href="symptom_checker.html" class="mm-link"><i class="fa-solid fa-stethoscope" style="color:#d81b60;width:20px;"></i> Symptom Checker</a>
    <a href="dashboard.html" class="mm-link"><i class="fa-solid fa-gauge-high" style="color:#d81b60;width:20px;"></i> My Dashboard</a>
    <a href="screening.html" class="mm-link"><i class="fa-solid fa-magnifying-glass-plus" style="color:#d81b60;width:20px;"></i> Health Screening</a>
    <a href="government_schemes.html" class="mm-link"><i class="fa-solid fa-landmark" style="color:#d81b60;width:20px;"></i> Govt Schemes</a>
    <a href="insurance.html" class="mm-link"><i class="fa-solid fa-shield-halved" style="color:#1b5e20;width:20px;"></i> Insurance</a>
    <div class="mm-section">Specialised Care</div>
    <a href="bone_health.html" class="mm-link"><i class="fa-solid fa-bone" style="color:#ad1457;width:20px;"></i> Bone Health</a>
    <a href="depression.html" class="mm-link"><i class="fa-solid fa-brain" style="color:#f57f17;width:20px;"></i> Mental Health</a>
    <a href="loss_support.html" class="mm-link"><i class="fa-solid fa-hands-holding-heart" style="color:#9e9e9e;width:20px;"></i> Loss Support</a>
    <a href="ncd_pregnancy.html" class="mm-link"><i class="fa-solid fa-heart-pulse" style="color:#283593;width:20px;"></i> Non Communicable Diseases</a>
    <a href="gestational_diabetes.html" class="mm-link" style="padding-left:2.5rem;font-size:.88rem;"><i class="fa-solid fa-circle-check" style="color:#283593;width:20px;"></i> Gestational Diabetes</a>
    <a href="preeclampsia_education.html" class="mm-link" style="padding-left:2.5rem;font-size:.88rem;"><i class="fa-solid fa-circle-check" style="color:#283593;width:20px;"></i> Preeclampsia</a>
    <div class="mm-section">More</div>
    <a href="stories.html" class="mm-link"><i class="fa-solid fa-book-open" style="color:#d81b60;width:20px;"></i> Stories</a>
    <a href="community.html" class="mm-link"><i class="fa-solid fa-users" style="color:#d81b60;width:20px;"></i> Community</a>
    <a href="about.html" class="mm-link"><i class="fa-solid fa-circle-info" style="color:#d81b60;width:20px;"></i> About Us</a>
    <div style="display:flex;gap:.75rem;margin-top:1rem;padding:.5rem;">
      <a href="login.html" class="btn-nav outline mm-action-btn" style="flex:1;justify-content:center;"><i class="fa-regular fa-user"></i> Sign In</a>
      <a href="contact.html" class="btn-nav primary mm-action-btn" style="flex:1;justify-content:center;"><i class="fa-solid fa-envelope"></i> Contact Us</a>
    </div>
  </div>



  <!-- HERO CONSTELLATION -->
  <div class="hero-constellation">
    <div class="constellation-bg">
      <div class="gradient-morph"></div>
    </div>
    
    <div class="hero-content-wrapper">
      <!-- Left Content -->
      <div class="hero-left">
        <div class="hero-eyebrow">
          <span class="pulse-dot"></span>
          Your Fertility Journey Starts Here
        </div>
        
        <h1 class="hero-title-3d">
          Understand Your <span class="title-emphasis">Fertility</span> Like Never Before
        </h1>
        
        <p class="hero-description">
          Interactive tools to track your cycle, visualize body changes, and optimize your path to conception with science-backed insights.
        </p>
        
        <div class="badge-constellation">
          <div class="hero-badge-3d">
            <span>ðŸ“…</span> Cycle Tracking
          </div>
          <div class="hero-badge-3d">
            <span>ðŸŒ¡ï¸</span> Body Insights
          </div>
          <div class="hero-badge-3d">
            <span>ðŸ’š</span> Wellness Tips
          </div>
        </div>
        
        <div class="hero-cta-constellation">
        <button class="btn-primary-3d" onclick="scrollToSection('simulator')">
          <span>ðŸŽ¯</span> Try Body Simulator
          <span style="font-size: 0.8rem;">â†“</span>
        </button>
        
      
        <button class="btn-primary-3d" onclick="openTxModal()">
          <span>ðŸ§ª</span> Try Treatment Simulator
          <span style="font-size: 0.8rem;">â†—</span>
        </button>
  
        <a href="conceiving.html" class="btn-secondary-3d">
          <i class="fa-solid fa-person-breastfeeding"></i> Trying to Conceive
        </a>

        <a href="depression.html" class="btn-secondary-3d">
          <i class="fa-solid fa-brain"></i> Mental Health Support
        </a>


        <a href="#methods" class="btn-secondary-3d">
          <span>ðŸ“Š</span> Explore Methods
        </a>
      </div>
      </div>
      
      <!-- Right: Interactive Cycle Visualizer -->
      <div class="hero-right">
        <div class="cycle-visualizer">
          <!-- SVG Cycle Ring -->
          <div class="cycle-ring">
            <svg viewBox="0 0 200 200">
              <!-- Menstrual Phase (Days 1-5) - Red -->
              <circle class="cycle-segment" cx="100" cy="100" r="70" 
                      stroke="#e74c3c" stroke-dasharray="32 440" stroke-dashoffset="0"
                      data-phase="menstrual" onclick="showPhaseCard(1)"/>
              
              <!-- Follicular Phase (Days 6-13) - Orange -->
              <circle class="cycle-segment" cx="100" cy="100" r="70" 
                      stroke="#f39c12" stroke-dasharray="58 440" stroke-dashoffset="-32"
                      data-phase="follicular" onclick="showPhaseCard(2)"/>
              
              <!-- Ovulation Phase (Days 14-16) - Green -->
              <circle class="cycle-segment" cx="100" cy="100" r="70" 
                      stroke="#27ae60" stroke-dasharray="22 440" stroke-dashoffset="-90"
                      data-phase="ovulation" onclick="showPhaseCard(3)"/>
              
              <!-- Luteal Phase (Days 17-28) - Blue -->
              <circle class="cycle-segment" cx="100" cy="100" r="70" 
                      stroke="#3498db" stroke-dasharray="88 440" stroke-dashoffset="-112"
                      data-phase="luteal" onclick="showPhaseCard(4)"/>
            </svg>
          </div>
          
          <!-- Center Display -->
          <div class="cycle-center">
            <div class="cycle-day-display" id="cycleDay">14</div>
            <div class="cycle-phase-name" id="phaseName">Ovulation</div>
            <div class="cycle-emoji" id="phaseEmoji">ðŸŒŸ</div>
          </div>
          
          <!-- Floating Phase Cards -->
          <div class="phase-cards-orbit">
            <div class="phase-card-floating phase-card-1" id="card1">
              <h4>ðŸ©¸ Menstrual Phase</h4>
              <p>Days 1-5: Period begins, hormone levels lowest, uterine lining sheds.</p>
            </div>
            
            <div class="phase-card-floating phase-card-2" id="card2">
              <h4>ðŸŒ± Follicular Phase</h4>
              <p>Days 6-13: Estrogen rises, follicles mature, lining thickens.</p>
            </div>
            
            <div class="phase-card-floating phase-card-3 active" id="card3">
              <h4>ðŸŒŸ Ovulation</h4>
              <p>Days 14-16: Fertile window! Egg released, best time for conception.</p>
            </div>
            
            <div class="phase-card-floating phase-card-4" id="card4">
              <h4>ðŸŒ™ Luteal Phase</h4>
              <p>Days 17-28: Progesterone peaks, body prepares for pregnancy.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="page-container">
    
    <!-- BODY SIMULATOR SECTION -->
    <section class="body-simulator-section fade-in-up" id="simulator">
  <div class="section-header">
    <div class="header-badge">LIVE SIMULATION</div>
    <h2 class="section-title"><span class="title-black">Bio-Digital</span> Body Twin</h2>
    <p class="section-subtitle">Travel through your cycle day-by-day to see the hidden choreography of your fertility.</p>
  </div>
  
  <div class="body-sim-container">
    <div class="body-controls">
      <div class="control-panel">
        
        <div class="control-group master-control">
          <div class="control-label">
            <span class="control-label-icon">â³</span>
            Cycle Time Travel
          </div>
          <div class="slider-container">
            <div class="slider-header">
              <span class="slider-name">Current Day</span>
              <span class="slider-value highlight" id="dayValue">Day 1</span>
            </div>
            <input type="range" min="1" max="28" step="1" value="1" 
                   class="slider master-slider" id="daySlider" oninput="updateSimulation(this.value)">
            <div class="cycle-phases-bar">
              <span class="phase-segment p-menstrual"></span>
              <span class="phase-segment p-follicular"></span>
              <span class="phase-segment p-ovulation"></span>
              <span class="phase-segment p-luteal"></span>
            </div>
            <button class="sim-play-btn" onclick="togglePlaySim()">
              <i class="fa-solid fa-play"></i> Run Full Cycle Simulation
            </button>
          </div>
        </div>

        <div class="control-group">
          <div class="control-label">
            <span class="control-label-icon">ðŸ“Š</span>
            Hormone Levels
          </div>
          <div class="hormone-bars">
            <div class="h-bar-group">
              <label>Estrogen</label>
              <div class="h-track"><div class="h-fill estrogen" id="estrogenBar" style="width: 20%"></div></div>
            </div>
            <div class="h-bar-group">
              <label>LH Surge</label>
              <div class="h-track"><div class="h-fill lh" id="lhBar" style="width: 5%"></div></div>
            </div>
            <div class="h-bar-group">
              <label>Progesterone</label>
              <div class="h-track"><div class="h-fill progesterone" id="progBar" style="width: 5%"></div></div>
            </div>
          </div>
        </div>
        
        <div class="control-group">
          <div class="control-label">
            <span class="control-label-icon">ðŸ§˜â€â™€ï¸</span>
            Lifestyle Modifiers
          </div>
          <div class="factor-buttons">
            <button class="factor-btn" id="stressBtn" onclick="toggleFactor('stress')">
              <span>âš¡</span> Stress
            </button>
            <button class="factor-btn" id="sleepBtn" onclick="toggleFactor('sleep')">
              <span>ðŸ’¤</span> Sleep
            </button>
            <button class="factor-btn" id="dietBtn" onclick="toggleFactor('diet')">
              <span>ðŸ¥‘</span> Diet
            </button>
          </div>
        </div>

      </div>
    </div>
    
    <div class="body-visualization">
  
  <div class="sim-insight-card" id="simInsight">
    <div class="insight-header">
      <span class="insight-icon">ðŸ©¸</span>
      <span class="insight-title">Menstruation Begins</span>
    </div>
    <p class="insight-text">Hormones are low. The uterine lining is shedding. Energy may be lower.</p>
  </div>

  <div class="factor-impact-overlay" id="factorOverlay">
    <div class="impact-header" id="impactHeader">
      <span id="impactIcon">âš¡</span> 
      <span id="impactTitle">High Stress Detected</span>
    </div>
    <div class="impact-body">
      <p id="impactText">Cortisol is suppressing the hypothalamus.</p>
      <ul class="impact-list" id="impactList">
        <li>Delays LH Surge</li>
        <li>Reduces Progesterone</li>
      </ul>
    </div>
  </div>

  <div class="body-svg-container">
    <svg viewBox="0 0 340 520" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="uterusGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#fce4ec;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#f8bbd0;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="nutrientGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#a5d6a7;stop-opacity:1" /> <stop offset="100%" style="stop-color:#66bb6a;stop-opacity:1" />
        </linearGradient>

        <filter id="glow">
          <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
          <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        
        <filter id="stressNoise">
          <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" result="noise"/>
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="3" />
        </filter>
      </defs>

      <path d="M 170 50 Q 220 50, 220 100 Q 220 130, 200 150 Q 230 160, 240 200 Q 250 280, 240 320 Q 260 350, 240 480 L 220 480 L 220 350 L 120 350 L 120 480 L 100 480 Q 80 350, 100 320 Q 90 280, 100 200 Q 110 160, 140 150 Q 120 130, 120 100 Q 120 50, 170 50" 
            fill="#fff5f8" stroke="#ec407a" stroke-width="1.5" opacity="0.6"/>
      
      <g id="bodyBrain">
        <ellipse cx="170" cy="80" rx="35" ry="28" fill="#e1bee7" opacity="0.8" class="brain-core"/>
        <path class="stress-bolt" d="M 155 70 L 165 85 L 175 65 L 185 80" stroke="#fff" stroke-width="2" fill="none" opacity="0"/>
      </g>
      
      <path id="hpaAxisLeft" d="M 170 110 C 170 150, 130 180, 80 250" 
            stroke="#ffcdd2" stroke-width="2" fill="none" stroke-dasharray="5 5" opacity="0.5"/>
      <path id="hpaAxisRight" d="M 170 110 C 170 150, 210 180, 260 250" 
            stroke="#ffcdd2" stroke-width="2" fill="none" stroke-dasharray="5 5" opacity="0.5"/>

      <g transform="translate(0, 50)">
        <path d="M 130 240 Q 100 220, 80 240" stroke="#d81b60" stroke-width="4" fill="none" stroke-linecap="round"/>
        <path d="M 210 240 Q 240 220, 260 240" stroke="#d81b60" stroke-width="4" fill="none" stroke-linecap="round"/>

        <g id="ovaryLeft">
          <ellipse cx="80" cy="250" rx="18" ry="24" fill="#f8bbd0" stroke="#d81b60" stroke-width="2"/>
          <circle cx="80" cy="250" r="3" fill="#fff" id="follicleL" opacity="0.6"/>
        </g>
        <g id="ovaryRight">
          <ellipse cx="260" cy="250" rx="18" ry="24" fill="#f8bbd0" stroke="#d81b60" stroke-width="2"/>
          <circle cx="260" cy="250" r="2" fill="#fff" stroke="#ec407a" stroke-width="1" id="activeFollicle"/>
        </g>

        <path id="uterusBase" 
              d="M 170 330 Q 140 310, 130 280 L 130 250 Q 130 230, 150 220 L 170 210 L 190 220 Q 210 230, 210 250 L 210 280 Q 200 310, 170 330 Z" 
              fill="url(#uterusGrad)" stroke="#d81b60" stroke-width="2"/>
        
        <path id="endometrium" 
              d="M 170 320 Q 150 300, 145 280 L 145 250 Q 145 240, 160 235 L 170 230 L 180 235 Q 195 240, 195 250 L 195 280 Q 190 300, 170 320 Z" 
              fill="#e91e63" opacity="0.3"/>

        <g id="nutrientFlow" opacity="0">
          <circle cx="170" cy="250" r="2" fill="#4caf50"><animate attributeName="cy" values="220;280" dur="2s" repeatCount="indefinite"/></circle>
          <circle cx="160" cy="260" r="2" fill="#81c784"><animate attributeName="cy" values="220;280" dur="2.5s" repeatCount="indefinite"/></circle>
          <circle cx="180" cy="240" r="2" fill="#66bb6a"><animate attributeName="cy" values="220;280" dur="1.8s" repeatCount="indefinite"/></circle>
        </g>

        <circle id="eggCell" cx="260" cy="250" r="4" fill="#ffd54f" stroke="#f57f17" stroke-width="1" opacity="0"/>
      </g>

      <g transform="translate(40, 150)">
        <rect x="0" y="0" width="12" height="60" rx="6" fill="white" stroke="#ffb74d" stroke-width="2"/>
        <rect id="visualTempBar" x="0" y="30" width="12" height="30" rx="6" fill="#ffb74d" />
        <text x="20" y="35" font-size="10" fill="#e65100" font-weight="bold" id="visualTempText">97.0Â°</text>
      </g>

      <g transform="translate(280, 320)">
        <circle cx="0" cy="0" r="15" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
        <path id="mucusIcon" d="M 0 -8 Q 5 0, 0 8 Q -5 0, 0 -8" fill="#2196f3" transform="scale(1)"/>
        <text x="-20" y="30" font-size="10" fill="#1565c0" font-weight="bold" id="visualMucusText">Dry</text>
      </g>

    </svg>
  </div>
</div>
  </div>
</section>

    
    <!-- FERTILITY TRACKING METHODS -->
    <section class="methods-section fade-in-up" id="methods">
      <div class="section-header">
        <h2 class="section-title"><span class="title-black">Fertility</span> Tracking Methods</h2>
        <p class="section-subtitle">Choose the approach that works best for you</p>
      </div>
      
      <div class="methods-grid">
        <div class="method-card">
          <div class="method-icon">ðŸ“…</div>
          <h3>Calendar Method</h3>
          <p>Track cycle length for 6+ months. Fertile window typically days 10-17 of a 28-day cycle.</p>
          <span class="method-badge">âœ… Easy to Start</span>
        </div>
        
        <div class="method-card">
          <div class="method-icon">ðŸŒ¡ï¸</div>
          <h3>Basal Body Temperature</h3>
          <p>Measure temperature first thing each morning. A 0.5-1Â°F rise indicates ovulation occurred.</p>
          <span class="method-badge">â­ Most Accurate</span>
        </div>
        
        <div class="method-card">
          <div class="method-icon">ðŸ’§</div>
          <h3>Cervical Mucus</h3>
          <p>Check consistency daily. Clear, stretchy, egg-white mucus signals peak fertility.</p>
          <span class="method-badge">ðŸ”§ No Equipment</span>
        </div>
        
        <div class="method-card">
          <div class="method-icon">ðŸ§ª</div>
          <h3>Ovulation Predictor Kits</h3>
          <p>Urine tests detect LH surge 24-48 hours before ovulation. Test daily during fertile window.</p>
          <span class="method-badge">âš¡ Most Convenient</span>
        </div>
        
        <div class="method-card">
          <div class="method-icon">ðŸ“±</div>
          <h3>Fertility Apps</h3>
          <p>Digital tracking combines multiple methods. Predictions improve over time with your data.</p>
          <span class="method-badge">ðŸ”„ Comprehensive</span>
        </div>
        
        <div class="method-card">
          <div class="method-icon">ðŸ”¬</div>
          <h3>Fertility Monitors</h3>
          <p>Advanced devices measure hormones or detect fertile saliva patterns for precise prediction.</p>
          <span class="method-badge">ðŸ’Ž Premium</span>
        </div>
      </div>
    </section>
    
    <!-- CYCLE TIMELINE -->
    <section class="timeline-section fade-in-up">
      <div class="section-header">
        <h2 class="section-title"><span class="title-black">Understanding Your</span> Menstrual Cycle</h2>
        <p class="section-subtitle">Knowledge is power when planning for conception</p>
      </div>
      
      <div class="timeline-container">
        <div class="timeline-line"></div>
        
        <div class="timeline-item">
          <div class="timeline-content" style="border-color: #e74c3c;">
            <h3>Menstrual Phase (Days 1-5)</h3>
            <p>Your period begins. The uterine lining sheds as hormone levels drop to their lowest point. This marks day 1 of your cycle.</p>
          </div>
          <div class="timeline-visual">
            <div class="timeline-marker" style="border-color: #e74c3c; color: #e74c3c;">ðŸ©¸</div>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-visual">
            <div class="timeline-marker" style="border-color: #f39c12; color: #f39c12;">ðŸŒ±</div>
          </div>
          <div class="timeline-content" style="border-color: #f39c12;">
            <h3>Follicular Phase (Days 1-13)</h3>
            <p>Follicles in your ovaries begin to mature. Estrogen levels rise, causing the uterine lining to thicken in preparation.</p>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-content" style="border-color: #27ae60;">
            <h3>Ovulation (Day 14)</h3>
            <p><strong>ðŸŽ¯ Fertile Window!</strong> A mature egg is released from the ovary. This is your most fertile timeâ€”conception is most likely 2-3 days before and the day of ovulation.</p>
          </div>
          <div class="timeline-visual">
            <div class="timeline-marker" style="border-color: #27ae60; color: #27ae60;">ðŸŒŸ</div>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-visual">
            <div class="timeline-marker" style="border-color: #3498db; color: #3498db;">ðŸŒ™</div>
          </div>
          <div class="timeline-content" style="border-color: #3498db;">
            <h3>Luteal Phase (Days 15-28)</h3>
            <p>Progesterone rises as your body prepares for possible pregnancy. If no conception occurs, hormone levels drop and the cycle begins again.</p>
          </div>
        </div>
      </div>
    </section>
    
    <!-- OPTIMIZATION TIPS -->
    <section class="tips-section fade-in-up">
      <div class="section-header">
        <h2 class="section-title"><span class="title-black">Optimizing</span> Your Fertility</h2>
        <p class="section-subtitle">Lifestyle factors that support conception</p>
      </div>
      
      <div class="tips-grid">
        <div class="tip-card">
          <div class="tip-icon">ðŸ¥—</div>
          <h3>Nutrition</h3>
          <ul>
            <li>Folic acid: 400-800 mcg daily</li>
            <li>Antioxidants: berries, nuts, leafy greens</li>
            <li>Healthy fats: avocado, olive oil, fish</li>
            <li>Limit processed foods and trans fats</li>
          </ul>
        </div>
        
        <div class="tip-card">
          <div class="tip-icon">âš–ï¸</div>
          <h3>Healthy Weight</h3>
          <ul>
            <li>BMI 18.5-24.9 optimal for fertility</li>
            <li>Under/overweight affects ovulation</li>
            <li>Gradual, sustainable changes best</li>
            <li>Focus on overall health, not just numbers</li>
          </ul>
        </div>
        
        <div class="tip-card">
          <div class="tip-icon">ðŸƒâ€â™€ï¸</div>
          <h3>Exercise</h3>
          <ul>
            <li>Moderate activity 30 min most days</li>
            <li>Improves circulation and hormone balance</li>
            <li>Avoid excessive intense exercise</li>
            <li>Yoga and walking are excellent choices</li>
          </ul>
        </div>
        
        <div class="tip-card">
          <div class="tip-icon">ðŸš­</div>
          <h3>Avoid Toxins</h3>
          <ul>
            <li>No smoking or secondhand smoke</li>
            <li>Limit alcohol consumption</li>
            <li>Reduce caffeine (under 200mg/day)</li>
            <li>Minimize environmental toxins</li>
          </ul>
        </div>
        
        <div class="tip-card">
          <div class="tip-icon">ðŸ§˜â€â™€ï¸</div>
          <h3>Stress Management</h3>
          <ul>
            <li>High stress can affect ovulation</li>
            <li>Practice meditation or mindfulness</li>
            <li>Adequate sleep (7-9 hours nightly)</li>
            <li>Consider counseling or support groups</li>
          </ul>
        </div>
        
        <div class="tip-card">
          <div class="tip-icon">ðŸ’Š</div>
          <h3>Supplements</h3>
          <ul>
            <li>Prenatal vitamin before conception</li>
            <li>CoQ10 may improve egg quality</li>
            <li>Vitamin D if deficient</li>
            <li>Always consult doctor first</li>
          </ul>
        </div>
      </div>
    </section>

     <div class="page-container">
    
   <section class="specialist-section fade-in-up" id="compass">
  <div class="center-text">
    <h2 class="section-title-lg"><span class="title-black">Fertility</span> Compass</h2>
    <p class="sub-head">Map your reproductive health. Select factors that apply to you to generate a personalized roadmap.</p>
  </div>

  <div class="compass-grid">
    
    <div class="risk-factors-container">
      <h3 class="panel-title"><i class="fa-solid fa-sliders"></i> Your Profile Indicators</h3>
      
      <div class="factor-cards">
        <div class="factor-card" onclick="toggleCompassCard(this, 'urgent')">
          <div class="factor-header">
            <div class="factor-icon"><i class="fa-regular fa-clock"></i></div>
            <div class="factor-label">
              <strong>Age < 35</strong>
              <span>Trying for 12+ months</span>
            </div>
            <div class="check-circle"><i class="fa-solid fa-check"></i></div>
          </div>
          <div class="factor-context">
            <p><strong>Why this matters:</strong> For women under 35, clinical guidelines suggest a full year of trying as 85% of couples conceive naturally in this window.</p>
          </div>
        </div>

        <div class="factor-card" onclick="toggleCompassCard(this, 'high')">
          <div class="factor-header">
            <div class="factor-icon"><i class="fa-solid fa-hourglass-half"></i></div>
            <div class="factor-label">
              <strong>Age > 35</strong>
              <span>Trying for 6+ months</span>
            </div>
            <div class="check-circle"><i class="fa-solid fa-check"></i></div>
          </div>
          <div class="factor-context">
            <p><strong>Why this matters:</strong> Egg quantity and quality decline faster after 35. The medical window to seek help shortens to 6 months to optimize success.</p>
          </div>
        </div>

        <div class="factor-card" onclick="toggleCompassCard(this, 'medium')">
          <div class="factor-header">
            <div class="factor-icon"><i class="fa-solid fa-calendar-xmark"></i></div>
            <div class="factor-label">
              <strong>Irregular Cycles</strong>
              <span>&lt;21 or &gt;35 days</span>
            </div>
            <div class="check-circle"><i class="fa-solid fa-check"></i></div>
          </div>
          <div class="factor-context">
            <p><strong>Why this matters:</strong> Irregularity often signals anovulation (not releasing an egg), which makes natural conception difficult to time.</p>
          </div>
        </div>

        <div class="factor-card" onclick="toggleCompassCard(this, 'high')">
          <div class="factor-header">
            <div class="factor-icon"><i class="fa-solid fa-notes-medical"></i></div>
            <div class="factor-label">
              <strong>Conditions</strong>
              <span>PCOS, Endo, Thyroid</span>
            </div>
            <div class="check-circle"><i class="fa-solid fa-check"></i></div>
          </div>
          <div class="factor-context">
            <p><strong>Why this matters:</strong> Conditions like Endometriosis can block tubes, while PCOS affects ovulation. Early management is key.</p>
          </div>
        </div>

        <div class="factor-card" onclick="toggleCompassCard(this, 'high')">
          <div class="factor-header">
            <div class="factor-icon"><i class="fa-solid fa-person-dress-burst"></i></div>
            <div class="factor-label">
              <strong>Medical History</strong>
              <span>Miscarriages / Surgery</span>
            </div>
            <div class="check-circle"><i class="fa-solid fa-check"></i></div>
          </div>
          <div class="factor-context">
            <p><strong>Why this matters:</strong> Recurrent loss or pelvic surgeries may indicate structural issues or hormonal imbalances needing specific care.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="result-monitor-wrapper">
      <div class="result-monitor" id="riskMonitor">
        
        <div class="monitor-header">
          <div class="urgency-meter">
            <div class="meter-bar" id="urgencyBar"></div>
          </div>
          <span class="urgency-label" id="urgencyLabel">Low Priority</span>
        </div>

        <div class="status-display">
          <div class="status-icon-glow" id="riskIcon">ðŸ›¡ï¸</div>
          <h3 id="riskTitle">Routine Monitoring</h3>
          <span class="status-pill" id="riskBadge">Standard Care</span>
        </div>

        <p id="riskDesc">Your profile looks standard. Keep tracking your cycle. Select factors on the left to see how your roadmap changes.</p>
        
        <div id="actionPlan" class="action-plan">
          <div class="plan-header">Recommended Action Plan:</div>
          <div class="plan-steps">
            <div class="step-row">
              <div class="step-icon"><i class="fa-solid fa-user-doctor"></i></div>
              <div class="step-text">Book Specialist Consult</div>
            </div>
            <div class="step-row">
              <div class="step-icon"><i class="fa-solid fa-vial"></i></div>
              <div class="step-text">Day 3 Hormone Panel</div>
            </div>
            <div class="step-row">
              <div class="step-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
              <div class="step-text">Ultrasound Scan</div>
            </div>
          </div>
          <button class="btn-primary-3d" style="width:100%; margin-top:1rem;">Find a Specialist Near Me</button>
        </div>

      </div>
    </div>

  </div>
</section>

    <section class="treatment-section fade-in-up">
      <div class="center-text">
        <h2 class="section-title-lg"><span class="title-black">Treatment</span> Options Lab</h2>
        <p class="sub-head">Explore assisted reproductive technologies. Hover to estimate success rates.</p>
      </div>

      <div class="treatment-grid">
        <div class="glass-card" style="--success-rate: 25%">
          <div class="glass-icon-wrapper"><i class="fa-solid fa-pills"></i></div>
          <h3>Ovulation Induction</h3>
          <p style="color:#666; font-size:0.95rem;">Medications (Clomid, Letrozole) stimulate ovulation for women with irregular cycles.</p>
          <div style="margin-top:1rem; font-size:0.85rem; color:#d81b60; font-weight:700;">Success Rate ~20-25%</div>
          <div class="success-meter"><div class="success-fill"></div></div>
        </div>

        <div class="glass-card" style="--success-rate: 20%">
          <div class="glass-icon-wrapper"><i class="fa-solid fa-syringe"></i></div>
          <h3>IUI (Insemination)</h3>
          <p style="color:#666; font-size:0.95rem;">Sperm is placed directly into the uterus during ovulation. Often combined with drugs.</p>
          <div style="margin-top:1rem; font-size:0.85rem; color:#d81b60; font-weight:700;">Success Rate ~10-20%</div>
          <div class="success-meter"><div class="success-fill"></div></div>
        </div>

        <div class="glass-card" style="--success-rate: 50%">
          <div class="glass-icon-wrapper"><i class="fa-solid fa-flask"></i></div>
          <h3>IVF (In Vitro)</h3>
          <p style="color:#666; font-size:0.95rem;">Eggs retrieved & fertilized in lab. The gold standard for many conditions.</p>
          <div style="margin-top:1rem; font-size:0.85rem; color:#d81b60; font-weight:700;">Success Rate ~30-50%</div>
          <div class="success-meter"><div class="success-fill"></div></div>
        </div>

        <div class="glass-card" style="--success-rate: 90%">
          <div class="glass-icon-wrapper"><i class="fa-solid fa-snowflake"></i></div>
          <h3>Egg Freezing</h3>
          <p style="color:#666; font-size:0.95rem;">Preserve fertility for future use. Indefinite storage potential.</p>
          <div style="margin-top:1rem; font-size:0.85rem; color:#d81b60; font-weight:700;">Survival Rate >90%</div>
          <div class="success-meter"><div class="success-fill"></div></div>
        </div>


        <div style="text-align: center; margin-top: 3rem;">
        <button class="btn-primary-3d" onclick="openTxModal()">
          <span>ðŸ§ª</span> Try Treatment Simulator
          <span style="font-size: 0.8rem;">â†—</span>
        </button>
      </div>
      
      </div>
    </section>

    <section class="sanctuary-section fade-in-up">
      <div class="center-text">
        <h2 class="section-title-lg"><span class="title-black">Emotional</span> Sanctuary</h2>
        <p class="sub-head">Your mental health is just as vital as the physical journey.</p>
      </div>

      <div class="bubble-container">
        <div class="support-bubble">
          <i class="fa-solid fa-users" style="font-size:2.5rem; color:#4fc3f7; margin-bottom:1rem;"></i>
          <h3>Support Groups</h3>
          <p style="color:#555; font-size:0.9rem;">Connect with others. You are not alone in this journey.</p>
        </div>

        <div class="support-bubble">
          <i class="fa-solid fa-user-md" style="font-size:2.5rem; color:#ba68c8; margin-bottom:1rem;"></i>
          <h3>Counseling</h3>
          <p style="color:#555; font-size:0.9rem;">Fertility counselors specialize in the emotional aspects of conception.</p>
        </div>

        <div class="support-bubble">
          <i class="fa-solid fa-heart" style="font-size:2.5rem; color:#ef5350; margin-bottom:1rem;"></i>
          <h3>Partner Talk</h3>
          <p style="color:#555; font-size:0.9rem;">Keep open dialogue. This journey affects both of you deeply.</p>
        </div>

        <div class="support-bubble">
          <i class="fa-solid fa-spa" style="font-size:2.5rem; color:#66bb6a; margin-bottom:1rem;"></i>
          <h3>Self-Care</h3>
          <p style="color:#555; font-size:0.9rem;">Maintain hobbies & friendships beyond fertility focus.</p>
        </div>
      </div>
    </section>
  </div>
    
    <!-- CTA SECTION -->
    <section class="cta-section fade-in-up">
      <div class="cta-content">
        <h2>Ready to Take the Next Step?</h2>
        <p>Consult with a fertility specialist if you've been trying for 6-12 months without success, or have concerns about your reproductive health.</p>
        <div class="cta-buttons">
          <a href="#" class="cta-btn-white">
            <span>ðŸ“ž</span> Book Consultation
          </a>
          <a href="#" class="cta-btn-outline">
            <span>ðŸ“š</span> Learn More
          </a>
        </div>
      </div>
    </section>
    
  </div>
  
  <!-- FOOTER -->
  <footer class="ns-footer" aria-label="Site footer">
    <div class="footer-main">
      <div class="footer-col">
        <h3>About This Guide</h3>
        <p>Comprehensive, evidence-based information synthesized from WHO, ACOG, ICMR guidelines, peer-reviewed research, and NFHS-5 data (724,115+ women).</p>
      </div>
      <div class="footer-col">
        <h3>Evidence Sources</h3>
        <ul>
          <li>World Health Organization</li>
          <li>ACOG Guidelines</li>
          <li>ICMR India</li>
          <li>NFHS-5 Survey</li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>Important Disclaimer</h3>
        <p class="disclaimer-text">This provides general information only. Each pregnancy is unique. Medical decisions should be made with qualified healthcare providers who can assess your individual circumstances.</p>
      </div>
      <div class="footer-col">
        <h3>Emergency</h3>
        <p class="emergency-alert">Heavy bleeding, fever, chest pain, or severe abdominal pain require immediate medical attention. <strong>Don't delay.</strong></p>
      </div>
    </div>
    <div class="footer-meta">
      <p class="meta-line">Last Updated: February 2026 <span class="sep">|</span> Evidence-Based <span class="sep">â€¢</span> Comprehensive <span class="sep">â€¢</span> Empowering</p>
      <p class="tagline"><span class="heart">ðŸ©·</span> Dedicated to empowering every mother</p>
    </div>
    <div class="footer-bottom">
      <div class="footer-bottom-inner">
        <nav class="footer-links" aria-label="Legal and support links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Contact Support</a>
        </nav>
        <p class="footer-copy">&copy; 2026 Nari Shakti. Empowering Women's Health.</p>
      </div>
    </div>
  </footer>

  <script>
    // =====================================
    // CYCLE VISUALIZER INTERACTIONS
    // =====================================
    function showPhaseCard(cardNum) {
      // Hide all cards
      for (let i = 1; i <= 4; i++) {
        document.getElementById('card' + i).classList.remove('active');
      }
      
      // Show selected card
      document.getElementById('card' + cardNum).classList.add('active');
      
      // Update center display
      const phaseData = {
        1: { day: '3', name: 'Menstrual', emoji: 'ðŸ©¸' },
        2: { day: '10', name: 'Follicular', emoji: 'ðŸŒ±' },
        3: { day: '14', name: 'Ovulation', emoji: 'ðŸŒŸ' },
        4: { day: '21', name: 'Luteal', emoji: 'ðŸŒ™' }
      };
      
      const data = phaseData[cardNum];
      document.getElementById('cycleDay').textContent = data.day;
      document.getElementById('phaseName').textContent = data.name;
      document.getElementById('phaseEmoji').textContent = data.emoji;
    }

    /* =========================================
       NEW: FERTILITY COMPASS LOGIC
       ========================================= */
    function toggleRisk(element) {
      // 1. Toggle Visuals
      element.classList.toggle('checked');
      const icon = element.querySelector('i');
      if(element.classList.contains('checked')){
        icon.classList.remove('fa-circle');
        icon.classList.add('fa-circle-check');
      } else {
        icon.classList.add('fa-circle');
        icon.classList.remove('fa-circle-check');
      }

      // 2. Logic to update Agent Monitor
      const checkedCount = document.querySelectorAll('.checklist-item.checked').length;
      const monitor = document.getElementById('riskMonitor');
      const title = document.getElementById('riskTitle');
      const badge = document.getElementById('riskBadge');
      const desc = document.getElementById('riskDesc');
      const iconDisplay = document.getElementById('riskIcon');
      const list = document.getElementById('expectationsList');

      if(checkedCount > 0) {
        monitor.classList.add('status-alert');
        iconDisplay.textContent = 'ðŸ‘¨â€âš•ï¸';
        badge.textContent = 'Specialist Recommended';
        title.textContent = 'Consultation Advised';
        desc.textContent = `You have flagged ${checkedCount} potential risk factor(s). Seeing a specialist can clarify your options.`;
        list.style.display = 'block';
      } else {
        monitor.classList.remove('status-alert');
        iconDisplay.textContent = 'ðŸ›¡ï¸';
        badge.textContent = 'Routine Care';
        title.textContent = 'Standard Monitoring';
        desc.textContent = 'No major flags selected. Keep tracking your cycle and maintaining a healthy lifestyle.';
        list.style.display = 'none';
      }
    }

    
    // =====================================
    // BODY SIMULATOR CONTROLS
    // =====================================
    const activeFactors = {
      stress: false,
      sleep: false,
      exercise: false,
      nutrition: false
    };
    
    function updateTemp(value) {
      const temp = parseFloat(value);
      document.getElementById('tempValue').textContent = temp.toFixed(1) + 'Â°F';
      
      // Update temp fill height
      const fillHeight = ((temp - 96.5) / (99.0 - 96.5)) * 60;
      document.getElementById('tempFill').setAttribute('height', fillHeight);
      document.getElementById('tempFill').setAttribute('y', 230 - fillHeight);
      
      // Update info popup
      let info, stat;
      if (temp < 97.5) {
        info = 'Your BBT is in the normal pre-ovulation range.';
        stat = temp.toFixed(1) + 'Â°F - Follicular Phase';
        document.getElementById('tempPopup').classList.remove('active');
      } else if (temp >= 97.5 && temp < 98.0) {
        info = 'âš ï¸ Temperature rise detected! Ovulation likely occurred.';
        stat = temp.toFixed(1) + 'Â°F - Post-Ovulation';
        document.getElementById('tempPopup').classList.add('active');
      } else {
        info = 'ðŸ”¥ Elevated temperature. Consider taking a pregnancy test if late period.';
        stat = temp.toFixed(1) + 'Â°F - Possible Early Pregnancy';
        document.getElementById('tempPopup').classList.add('active');
      }
      
      document.getElementById('tempInfo').textContent = info;
      document.getElementById('tempStat').textContent = stat;
    }
    
    function updateMucus(value) {
      const mucusLevels = ['Dry', 'Sticky', 'Moderate', 'Egg-White', 'Peak Fertile'];
      const level = parseInt(value);
      document.getElementById('mucusValue').textContent = mucusLevels[level - 1];
      
      // Update mucus blob opacity and size
      const opacity = level / 5;
      document.getElementById('mucusBlob1').setAttribute('opacity', opacity * 0.6);
      document.getElementById('mucusBlob2').setAttribute('opacity', opacity * 0.7);
      document.getElementById('mucusBlob3').setAttribute('opacity', opacity * 0.8);
      
      // Scale blobs
      const scale = 0.5 + (level / 5) * 0.5;
      document.getElementById('mucusBlob1').setAttribute('rx', 20 * scale);
      document.getElementById('mucusBlob2').setAttribute('rx', 15 * scale);
      document.getElementById('mucusBlob3').setAttribute('rx', 18 * scale);
      
      // Update info
      let info, stat;
      if (level <= 2) {
        info = 'Low mucus indicates low fertility. Not optimal for conception.';
        stat = 'Quality: ' + mucusLevels[level - 1];
        document.getElementById('mucusPopup').classList.remove('active');
      } else if (level === 3) {
        info = 'Moderate mucus indicates approaching fertility window.';
        stat = 'Quality: Moderate';
        document.getElementById('mucusPopup').classList.add('active');
      } else {
        info = 'âœ¨ Peak fertile mucus! Best time for conception. Clear and stretchy like egg whites.';
        stat = 'Quality: ' + mucusLevels[level - 1];
        document.getElementById('mucusPopup').classList.add('active');
      }
      
      document.getElementById('mucusInfo').textContent = info;
      document.getElementById('mucusStat').textContent = stat;
    }


    /* =========================================
   FERTILITY COMPASS LOGIC (FIXED)
   ========================================= */
function toggleCompassCard(card, severity) {
  // 1. Toggle Visual State of the Card
  card.classList.toggle('active');
  
  // 2. Count Active Cards & Calculate Risk
  const activeCards = document.querySelectorAll('.factor-card.active');
  let riskScore = 0;
  
  // Simple scoring: Add 25 points for each selected factor
  activeCards.forEach(() => {
    riskScore += 25; 
  });

  // Cap the score at 100%
  if(riskScore > 100) riskScore = 100;

  // 3. Update the Monitor UI
  updateMonitor(riskScore, activeCards.length);
}

function updateMonitor(score, count) {
  const bar = document.getElementById('urgencyBar');
  const label = document.getElementById('urgencyLabel');
  const icon = document.getElementById('riskIcon');
  const title = document.getElementById('riskTitle');
  const desc = document.getElementById('riskDesc');
  const badge = document.getElementById('riskBadge');
  const plan = document.getElementById('actionPlan');
  const monitor = document.getElementById('riskMonitor');

  // Update Progress Bar
  // Keep at least 5% width so it's visible
  let visualWidth = score < 5 ? 5 : score;
  bar.style.width = visualWidth + "%";

  // LOGIC TREE: Update Text & Colors based on selection
  if (count === 0) {
    // STATE: No Factors
    bar.style.background = "#4caf50"; // Green
    label.innerText = "Low Priority";
    icon.textContent = "ðŸ›¡ï¸";
    title.textContent = "Routine Monitoring";
    badge.style.background = "#f5f5f5"; badge.style.color = "#777"; badge.textContent = "Standard Care";
    desc.textContent = "Your profile looks standard. Keep tracking your cycle. Select factors on the left to see how your roadmap changes.";
    plan.style.display = "none";
    monitor.classList.remove('alert-mode');
  
  } else if (score <= 25) {
    // STATE: Mild Risk (1 Factor)
    bar.style.background = "#ffb74d"; // Orange
    label.innerText = "Attention Needed";
    icon.textContent = "ðŸ¤”";
    title.textContent = "Keep an Eye On It";
    badge.style.background = "#fff3e0"; badge.style.color = "#ef6c00"; badge.textContent = "Monitor Closely";
    desc.textContent = "You have flagged a potential concern. It may not require immediate intervention, but track your symptoms for the next 2 months.";
    plan.style.display = "none";
    monitor.classList.remove('alert-mode');

  } else {
    // STATE: High Risk (2+ Factors)
    bar.style.background = "#ef5350"; // Red
    label.innerText = "Consult Recommended";
    icon.textContent = "ðŸ‘¨â€âš•ï¸";
    title.textContent = "Specialist Advised";
    badge.style.background = "#ffebee"; badge.style.color = "#c62828"; badge.textContent = "Action Required";
    desc.textContent = `You have identified ${count} significant risk factors. Early intervention significantly improves fertility outcomes.`;
    plan.style.display = "block"; // Show the action plan
    monitor.classList.add('alert-mode'); // Triggers pulse animation
  }
}

    
    /* --- ENHANCED FERTILITY COMPASS LOGIC --- */
  
  function toggleFactor(card, severity) {
    // 1. Toggle Visual State
    card.classList.toggle('active');
    
    // 2. Calculate Total Risk Score
    const activeCards = document.querySelectorAll('.factor-card.active');
    let riskScore = 0;
    
    // Assign weighted scores based on card attributes (simplified here for demo)
    activeCards.forEach(c => {
      // In a real app, we'd read the 'severity' param. 
      // Here we just count them, but accelerate risk if > 1
      riskScore += 25; 
    });

    // Cap at 100
    if(riskScore > 100) riskScore = 100;

    updateMonitor(riskScore, activeCards.length);
  }

    function updateBodyVisualization() {
      const uterus = document.getElementById('bodyUterus');
      const leftOvary = document.getElementById('leftOvary');
      const rightOvary = document.getElementById('rightOvary');
      
      // Positive factors (exercise, nutrition) make organs brighter
      const positiveCount = (activeFactors.exercise ? 1 : 0) + (activeFactors.nutrition ? 1 : 0);
      // Negative factors (stress, poor sleep) make organs darker
      const negativeCount = (activeFactors.stress ? 1 : 0) + (activeFactors.sleep ? 1 : 0);
      
      const healthScore = positiveCount - negativeCount;
      
      if (healthScore >= 2) {
        // Optimal health - bright pink
        uterus.style.fill = '#ffb6d9';
        leftOvary.style.fill = '#ffb6d9';
        rightOvary.style.fill = '#ffb6d9';
      } else if (healthScore <= -2) {
        // Poor health - darker, muted
        uterus.style.fill = '#d4a5b5';
        leftOvary.style.fill = '#d4a5b5';
        rightOvary.style.fill = '#d4a5b5';
      } else {
        // Normal
        uterus.style.fill = '#ffc0cb';
        leftOvary.style.fill = '#ffb6d9';
        rightOvary.style.fill = '#ffb6d9';
      }
    }
    
    // =====================================
    // SCROLL ANIMATIONS
    // =====================================
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }
    
    // Intersection Observer for fade-in animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);
    
    document.querySelectorAll('.fade-in-up').forEach(el => {
      observer.observe(el);
    });
    
    // =====================================
    // INITIALIZE
    // =====================================
    document.addEventListener('DOMContentLoaded', () => {
      // Set initial values
      updateTemp(97.0);
      updateMucus(3);
      
      // Auto-cycle through phases every 4 seconds (demo)
      let currentPhase = 3;
      setInterval(() => {
        currentPhase = (currentPhase % 4) + 1;
        showPhaseCard(currentPhase);
      }, 4000);
    });

/* =========================================
   BODY SIMULATOR LOGIC (ENHANCED)
========================================= */
let simInterval = null;
const daySlider = document.getElementById('daySlider');
const dayValueDisplay = document.getElementById('dayValue');

// Simulation Data (Approximated for educational purposes)
function getCycleData(day) {
  let phase, estrogen, lh, prog, temp, mucus, mucusText, liningOp, follicleSize;
  
  if (day <= 5) {
    phase = "Menstrual Phase";
    estrogen = 20; lh = 5; prog = 5;
    temp = 97.0; mucus = 1; mucusText = "Dry/None";
    liningOp = 0.2; // Thin
    follicleSize = 2; // Small
  } else if (day <= 13) {
    phase = "Follicular Phase";
    estrogen = 20 + (day-5)*8; // Rises
    lh = 10; prog = 5;
    temp = 97.4; mucus = 2 + (day-6)*0.3; mucusText = "Sticky -> Creamy";
    liningOp = 0.2 + (day-5)*0.08; // Thickens
    follicleSize = 2 + (day-5); // Grows
  } else if (day === 14) {
    phase = "Ovulation Day ðŸŒŸ";
    estrogen = 90; lh = 100; prog = 10; // LH Spike
    temp = 97.8; mucus = 5; mucusText = "Egg White (Fertile)";
    liningOp = 0.9;
    follicleSize = 12; // Peak
  } else if (day <= 28) {
    phase = "Luteal Phase";
    estrogen = 60; lh = 10; prog = 80; // Progesterone Peak
    temp = 98.4; mucus = 2; mucusText = "Thick/Sticky";
    liningOp = 1.0; // Max thickness
    follicleSize = 0; // Gone
  }
  
  return { phase, estrogen, lh, prog, temp, mucus, mucusText, liningOp, follicleSize };
}

function updateSimulation(day) {
  dayValueDisplay.textContent = `Day ${day}`;
  const data = getCycleData(parseInt(day));
  
  // 1. Update Hormone Bars
  document.getElementById('estrogenBar').style.width = data.estrogen + '%';
  document.getElementById('lhBar').style.width = data.lh + '%';
  document.getElementById('progBar').style.width = data.prog + '%';
  
  // 2. Update Organs
  const follicle = document.getElementById('activeFollicle');
  follicle.setAttribute('r', data.follicleSize);
  
  const endometrium = document.getElementById('endometrium');
  endometrium.setAttribute('opacity', data.liningOp);
  
  // 3. Update Indicators
  // Temp Height (mapped 0-60)
  const tempH = (data.temp - 96.5) * 25; 
  const tempBar = document.getElementById('visualTempBar');
  tempBar.setAttribute('height', tempH);
  tempBar.setAttribute('y', 60 - tempH);
  document.getElementById('visualTempText').textContent = data.temp + 'Â°';
  
  // Mucus
  const mucusScale = 0.5 + (data.mucus * 0.2);
  document.getElementById('mucusIcon').setAttribute('transform', `scale(${mucusScale})`);
  document.getElementById('visualMucusText').textContent = data.mucusText;
  
  // 4. Update Insight Card
  updateInsightCard(day, data);
  
  // Trigger Ovulation Animation
  if(parseInt(day) === 14) {
    triggerOvulation();
  }
}

function updateInsightCard(day, data) {
  const card = document.getElementById('simInsight');
  const title = card.querySelector('.insight-title');
  const text = card.querySelector('.insight-text');
  const icon = card.querySelector('.insight-icon');
  
  title.textContent = data.phase;
  
  if(day <= 5) {
    icon.textContent = "ðŸ©¸";
    text.textContent = "Uterine lining sheds. Progesterone drops. A good time for rest and iron-rich foods.";
    card.style.borderLeftColor = "var(--menstrual-red)";
  } else if (day <= 13) {
    icon.textContent = "ðŸŒ±";
    text.textContent = "Estrogen rises, boosting energy and mood. Follicles are maturing in the ovaries.";
    card.style.borderLeftColor = "var(--ovulation-gold)";
  } else if (day === 14) {
    icon.textContent = "ðŸ¥š";
    text.textContent = "LH Surge triggers egg release! You are at peak fertility. Mucus is stretchy.";
    card.style.borderLeftColor = "var(--fertility-green)";
  } else {
    icon.textContent = "ðŸŒ™";
    text.textContent = "Progesterone dominates, raising body temp. Lining stabilizes for potential implantation.";
    card.style.borderLeftColor = "var(--luteal-blue)";
  }
}

function triggerOvulation() {
  const egg = document.getElementById('eggCell');
  // Reset animation
  egg.classList.remove('animate-egg');
  void egg.offsetWidth; // trigger reflow
  egg.classList.add('animate-egg');
}

function togglePlaySim() {
  const btn = document.querySelector('.sim-play-btn');
  if (simInterval) {
    clearInterval(simInterval);
    simInterval = null;
    btn.innerHTML = '<i class="fa-solid fa-play"></i> Run Full Cycle Simulation';
    btn.classList.remove('playing');
  } else {
    let currentDay = parseInt(daySlider.value);
    if(currentDay >= 28) currentDay = 1;
    
    btn.innerHTML = '<i class="fa-solid fa-stop"></i> Stop Simulation';
    btn.classList.add('playing');
    
    simInterval = setInterval(() => {
      currentDay++;
      if (currentDay > 28) {
        currentDay = 1;
        // Option: Stop automatically at end? 
        // clearInterval(simInterval); 
        // simInterval = null;
        // btn.innerHTML = '<i class="fa-solid fa-play"></i> Run Full Cycle Simulation';
        // btn.classList.remove('playing');
      }
      daySlider.value = currentDay;
      updateSimulation(currentDay);
    }, 400); // Speed of simulation
  }
}

// Factors logic (Visual only for this demo)
function toggleFactor(type) {
  const btn = document.getElementById(type + 'Btn');
  btn.classList.toggle('active');
  const brain = document.getElementById('bodyBrain');
  
  if(type === 'stress' && btn.classList.contains('active')) {
    brain.setAttribute('fill', '#ef5350'); // Red brain
    document.querySelector('.insight-text').textContent += " (High stress may delay ovulation!)";
  } else {
    brain.setAttribute('fill', '#e1bee7'); // Normal brain
  }
}

/* =========================================
   ENHANCED FACTOR LOGIC
   ========================================= */
const impactOverlay = document.getElementById('factorOverlay');
const impactIcon = document.getElementById('impactIcon');
const impactTitle = document.getElementById('impactTitle');
const impactText = document.getElementById('impactText');
const impactList = document.getElementById('impactList');

// Data for factors
const factorData = {
  stress: {
    icon: "âš¡",
    title: "High Cortisol Impact",
    text: "Chronic stress releases cortisol, which suppresses the hypothalamus.",
    list: ["Delays/Prevent LH Surge (Ovulation)", "Lowers Progesterone (Luteal Phase)", "Can cause irregular cycles"],
    class: "stress-mode"
  },
  sleep: {
    icon: "ðŸ’¤",
    title: "Circadian Disruption",
    text: "Melatonin regulates ovarian function. Poor sleep disrupts this rhythm.",
    list: ["Reduces egg quality over time", "Disrupts FSH/LH pulses", "Increases insulin resistance"],
    class: "sleep-mode"
  },
  diet: {
    icon: "ðŸ¥‘",
    title: "Nutrient Optimization",
    text: "Antioxidants and healthy fats reduce inflammation in reproductive organs.",
    list: ["Thickens endometrial lining", "Improves follicle maturation", "Balances blood sugar"],
    class: "diet-mode"
  }
};

function toggleFactor(type) {
  // 1. Toggle Button State
  const btn = document.getElementById(type + 'Btn');
  const isActive = !btn.classList.contains('active');
  
  // Reset all buttons and overlays first (Single factor focus for clarity)
  document.querySelectorAll('.factor-btn').forEach(b => b.classList.remove('active'));
  impactOverlay.className = 'factor-impact-overlay'; // clear classes
  resetVisuals(); // Clear SVG animations

  if (isActive) {
    btn.classList.add('active');
    activateVisuals(type);
    showImpactCard(type);
  } else {
    // If turning off, just hide overlay
    impactOverlay.classList.remove('active');
  }
}

function showImpactCard(type) {
  const data = factorData[type];
  impactIcon.textContent = data.icon;
  impactTitle.textContent = data.title;
  impactText.textContent = data.text;
  impactOverlay.classList.add(data.class, 'active');
  
  // Populate bullet points
  impactList.innerHTML = data.list.map(item => `<li>${item}</li>`).join('');
}

function activateVisuals(type) {
  const brain = document.getElementById('bodyBrain');
  const uterus = document.getElementById('uterusBase');
  const hpaLeft = document.getElementById('hpaAxisLeft');
  const hpaRight = document.getElementById('hpaAxisRight');
  const nutrients = document.getElementById('nutrientFlow');

  if (type === 'stress') {
    brain.classList.add('stressed');
    hpaLeft.classList.add('hpa-blocked');
    hpaRight.classList.add('hpa-blocked');
  } else if (type === 'diet') {
    uterus.classList.add('nourished');
    nutrients.setAttribute('opacity', '1');
  } else if (type === 'sleep') {
    // Sleep deprivation looks like stress but different color (blue/grey fatigue)
    brain.style.fill = "#cfd8dc"; // Grey-ish
    brain.style.opacity = "0.5";
  }
}

 /* =========================================
       SIMULATION LOGIC ENGINE (ENHANCED)
       ========================================= */
    const canvas = document.getElementById('mainCanvas');
    const statusText = document.getElementById('simStatus');
    const pulse = document.getElementById('simPulse');
    const title = document.getElementById('simTitle');
    const successMsg = document.getElementById('successMsg');
    const labOverlay = document.getElementById('labOverlay');
    
    // Anatomy Refs
    const ovaryL = document.getElementById('ovaryL');
    const ovaryR = document.getElementById('ovaryR');
    const uterus = document.getElementById('uterus');

    // Info Elements
    const stepBadge = document.getElementById('stepBadge');
    const stepTitle = document.getElementById('stepTitle');
    const stepDesc = document.getElementById('stepDesc');
    const careText = document.getElementById('careText');
    const sensationHud = document.getElementById('sensationHud');

    // Biometrics Elements
    const bioFsh = document.getElementById('bioFsh');
    const bioEst = document.getElementById('bioEst');
    const bioLh = document.getElementById('bioLh');
    const bioProg = document.getElementById('bioProg');
    const bioTemp = document.getElementById('bioTemp');

    function updateStep(badge, t, desc, care) {
      stepBadge.innerText = badge;
      stepTitle.innerText = t;
      stepDesc.innerHTML = desc;
      careText.innerText = care;
    }

    function showSensation(text) {
      const card = document.createElement('div');
      card.className = 'sensation-card';
      card.innerHTML = `<div class="sensation-title"><i class="fa-solid fa-triangle-exclamation"></i> Feeling</div>${text}`;
      sensationHud.appendChild(card);
      // Trigger animation
      setTimeout(() => card.classList.add('active'), 100);
      // Remove after 4s
      setTimeout(() => {
        card.style.opacity = 0;
        setTimeout(() => card.remove(), 500);
      }, 4000);
    }

    function updateBiometrics(fsh, est, lh, prog, temp) {
      bioFsh.style.width = fsh + '%';
      bioEst.style.width = est + '%';
      bioLh.style.width = lh + '%';
      bioProg.style.width = prog + '%';
      bioTemp.innerText = temp + 'Â°F';
    }

    function resetSim() {
      // Clear visual state
      document.querySelectorAll('.follicle').forEach(el => { el.style.opacity = 0; el.setAttribute('r', 2); el.style.fill="#fff"; el.style.transform="translateY(0)"; });
      document.getElementById('sim-catheter').style.opacity = 0;
      document.getElementById('sim-sperm-group').style.opacity = 0;
      document.getElementById('sim-needle').style.opacity = 0;
      document.getElementById('sim-embryo').style.opacity = 0;
      document.getElementById('sim-cryo').style.opacity = 0;
      labOverlay.style.opacity = 0;
      successMsg.classList.remove('show');
      sensationHud.innerHTML = '';
      
      // Reset Anatomy
      ovaryL.classList.remove('enlarged-ovary');
      ovaryR.classList.remove('enlarged-ovary');
      uterus.classList.remove('thick-lining');

      // Reset Bio
      updateBiometrics(10, 10, 5, 5, 97.5);

      // Stop timeouts
      let id = window.setTimeout(function() {}, 0);
      while (id--) { window.clearTimeout(id); }
    }

    function runSimulation(type, card) {
      resetSim();
      document.querySelectorAll('.treatment-trigger-card').forEach(c => c.classList.remove('active'));
      if(card) card.classList.add('active');
      pulse.style.display = 'block';
      
      if (type === 'ovulation') simOvulation();
      if (type === 'iui') simIUI();
      if (type === 'ivf') simIVF();
      if (type === 'freeze') simFreeze();
    }

    /* --- 1. OVULATION INDUCTION SIM --- */
    function simOvulation() {
      title.innerText = "Ovulation Induction";
      statusText.innerText = "Early Cycle: Medication";
      updateStep("Early Cycle", "Tablets/Injections", "You take medication to signal ovaries. <strong>FSH</strong> levels rise.", "ðŸ’Š Take meds with food if nauseous.");
      updateBiometrics(50, 15, 10, 5, 97.5);
      showSensation("Mild cramps & fatigue");

      // 1. Follicles appear & Ovaries swell
      const follicles = document.querySelectorAll('.follicle');
      follicles.forEach(f => f.style.opacity = 1);

      // 2. Mid Cycle
      setTimeout(() => {
        statusText.innerText = "Mid Cycle: Growth";
        updateStep("Mid Cycle", "Ovaries Enlarge", "Multiple follicles grow. Ovaries get bulkier. Uterus lining thickens.", "ðŸ’§ Bloating & heaviness are common.");
        updateBiometrics(40, 70, 15, 5, 97.6);
        
        // Anim
        ovaryL.classList.add('enlarged-ovary');
        ovaryR.classList.add('enlarged-ovary');
        uterus.classList.add('thick-lining');
        follicles.forEach(f => { f.style.transition = "all 2s"; f.setAttribute('r', 8); });
        
        showSensation("Lower-abdominal heaviness");
      }, 2500);

      // 3. Trigger Shot
      setTimeout(() => {
        statusText.innerText = "Trigger Shot";
        updateStep("Trigger", "Release Window", "Mature follicles release eggs. <strong>LH Surge</strong> happens.", "ðŸ“… Time intercourse now.");
        updateBiometrics(20, 80, 95, 20, 98.2);
        follicles.forEach(f => { f.style.fill = "#ffd54f"; f.style.transform = "translateY(-20px)"; });
        showSensation("Breast tenderness & Mood swings");
      }, 5500);

      setTimeout(() => {
        successMsg.innerText = "âœ¨ Eggs Released!";
        successMsg.classList.add('show');
        pulse.style.display = 'none';
      }, 7500);
    }

    /* --- 2. IUI SIM --- */
    function simIUI() {
      title.innerText = "Intrauterine Insemination (IUI)";
      statusText.innerText = "Ovulation Time";
      updateStep("Ovulation", "Insemination", "Sperm is placed directly in uterus. <strong>LH</strong> peaks.", "ðŸ©º Procedure is quick. Mild cramping is possible.");
      updateBiometrics(15, 60, 90, 10, 97.5);
      showSensation("Mild cramping (short-term)");

      // 1. Catheter Entry
      setTimeout(() => {
        const cath = document.getElementById('sim-catheter');
        cath.style.transition = "all 1s";
        cath.style.opacity = 1;
        cath.setAttribute('d', "M 200 400 L 200 220");
      }, 1000);

      // 2. Sperm Release & Wait
      setTimeout(() => {
        statusText.innerText = "The Two-Week Wait";
        updateStep("Days 1-5", "Sperm Meets Egg", "Sperm travels to tubes. Early embryo may form.", "ðŸ›‹ï¸ Rest if cramping persists.");
        const spermGroup = document.getElementById('sim-sperm-group');
        spermGroup.style.opacity = 1;
        // Sperm scatter anim
        const sperms = document.querySelectorAll('.sperm-cell');
        sperms.forEach(s => { s.style.transition = "all 2s"; s.setAttribute('cy', 180); });
        
        updateBiometrics(10, 40, 10, 60, 98.4); // Progesterone Rise + Temp High
        showSensation("Pelvic fullness & Spotting");
      }, 3000);

      // 3. Implantation
      setTimeout(() => {
        statusText.innerText = "Days 6-10: Implantation";
        updateStep("Days 6-10", "Possible Implantation", "Embryo may implant. Pregnancy hormones begin.", "ðŸ©¸ Light spotting or nausea?");
        showSensation("Emotional ups-and-downs");
      }, 6000);

      setTimeout(() => {
        successMsg.innerText = "âœ¨ Process Complete. Wait to Test.";
        successMsg.classList.add('show');
        pulse.style.display = 'none';
      }, 8000);
    }

    /* --- 3. IVF SIM --- */
    function simIVF() {
      title.innerText = "In Vitro Fertilization (IVF)";
      statusText.innerText = "Stimulation Phase";
      updateStep("Stimulation", "Follicle Growth", "Many follicles grow. Ovaries enlarge visibly. <strong>Estrogen</strong> is very high.", "ðŸŽˆ Abdominal discomfort & feeling 'heavy'.");
      updateBiometrics(30, 95, 10, 10, 97.6);
      showSensation("Bloating & Mood changes");
      
      // Anim: Swell
      ovaryL.classList.add('enlarged-ovary');
      ovaryR.classList.add('enlarged-ovary');
      uterus.classList.add('thick-lining');

      // 1. Retrieval
      setTimeout(() => {
        statusText.innerText = "Egg Retrieval";
        updateStep("Retrieval", "Eggs Collected", "Follicles emptied. Ovaries remain tender.", "ðŸš— Have a ride home. Rest.");
        const needle = document.getElementById('sim-needle');
        needle.style.opacity = 1; needle.style.transition = "all 1s"; needle.setAttribute('x1', 30);
        showSensation(" pelvic soreness & mild bleeding");
      }, 3000);

      // 2. Lab Phase
      setTimeout(() => {
        statusText.innerText = "Lab Phase";
        labOverlay.style.opacity = 1;
        updateBiometrics(10, 50, 10, 10, 97.8);
      }, 5000);

      // 3. Transfer
      setTimeout(() => {
        statusText.innerText = "Post-Transfer";
        updateStep("Post-Transfer", "Embryo Placement", "Microscopic attachment begins. <strong>Progesterone</strong> support.", "ðŸ›‹ï¸ Avoid heavy lifting. Constipation common.");
        labOverlay.style.opacity = 0; needle.style.opacity = 0;
        const embryo = document.getElementById('sim-embryo');
        embryo.style.opacity = 1; embryo.setAttribute('r', 6); embryo.style.transition = "all 2s"; embryo.setAttribute('cy', 220);
        updateBiometrics(5, 40, 5, 85, 98.5);
        showSensation("Breast swelling & Water retention");
      }, 7500);

      setTimeout(() => {
        successMsg.innerText = "âœ¨ Embryo Transferred!";
        successMsg.classList.add('show');
        pulse.style.display = 'none';
      }, 9500);
    }

    /* --- 4. EGG FREEZING SIM --- */
    function simFreeze() {
      title.innerText = "Egg Freezing";
      statusText.innerText = "Stimulation Phase";
      updateStep("Stimulation", "Ovaries Enlarge", "Many follicles grow at once. Similar to IVF. <strong>Estrogen</strong> peaks.", "ðŸ¥— High protein diet helps recovery.");
      updateBiometrics(40, 90, 15, 5, 97.5);
      showSensation("Pelvic heaviness & Fatigue");

      // Anim: Swell
      ovaryL.classList.add('enlarged-ovary');
      ovaryR.classList.add('enlarged-ovary');
      const follicles = document.querySelectorAll('.follicle');
      follicles.forEach(f => { f.style.opacity = 1; f.setAttribute('r', 5); f.style.fill="#ffd54f"; });

      // 2. Retrieval
      setTimeout(() => {
        statusText.innerText = "Retrieval";
        updateStep("Retrieval", "Collection", "Mature eggs collected. Ovaries remain enlarged then shrink.", "ðŸ’Š Mild cramping & nausea common.");
        follicles.forEach(f => { f.style.transition = "all 1s"; f.setAttribute('cx', 200); f.setAttribute('cy', 150); });
        showSensation("Feeling 'puffy' or full");
      }, 3000);

      // 3. Cryo
      setTimeout(() => {
        statusText.innerText = "After Cycle";
        updateStep("Post-Op", "Medications Stop", "Ovaries gradually return to baseline. No transfer planned.", "âœ… Most symptoms resolve in a few days.");
        document.getElementById('sim-cryo').style.opacity = 1;
        follicles.forEach(f => f.style.opacity = 0);
        
        // Shrink back
        ovaryL.classList.remove('enlarged-ovary');
        ovaryR.classList.remove('enlarged-ovary');
      }, 6000);

      setTimeout(() => {
        successMsg.innerText = "â„ï¸ Eggs Preserved!";
        successMsg.style.background = "#0288d1";
        successMsg.classList.add('show');
        pulse.style.display = 'none';
      }, 8000);
    }

    /* =========================================
       COMPASS LOGIC
       ========================================= */
    function toggleRisk(el) {
      el.classList.toggle('checked');
      const icon = el.querySelector('i');
      if(el.classList.contains('checked')) {
        icon.classList.remove('fa-circle'); icon.classList.add('fa-circle-check');
      } else {
        icon.classList.add('fa-circle'); icon.classList.remove('fa-circle-check');
      }
      
      const count = document.querySelectorAll('.checklist-item.checked').length;
      const monitor = document.getElementById('riskMonitor');
      
      if(count > 0) {
        monitor.classList.add('status-alert');
        document.getElementById('riskIcon').innerText = 'ðŸ‘¨â€âš•ï¸';
        document.getElementById('riskBadge').innerText = 'Specialist Advised';
        document.getElementById('riskTitle').innerText = 'Consultation Recommended';
        document.getElementById('riskDesc').innerText = `You selected ${count} risk factor(s). Seeing a specialist can help clarify your options.`;
      } else {
        monitor.classList.remove('status-alert');
        document.getElementById('riskIcon').innerText = 'ðŸ›¡ï¸';
        document.getElementById('riskBadge').innerText = 'Routine Care';
        document.getElementById('riskTitle').innerText = 'Standard Monitoring';
        document.getElementById('riskDesc').innerText = 'No flags selected. Keep tracking your cycle.';
      }
    }


function resetVisuals() {
  const brain = document.getElementById('bodyBrain');
  const uterus = document.getElementById('uterusBase');
  const hpaLeft = document.getElementById('hpaAxisLeft');
  const hpaRight = document.getElementById('hpaAxisRight');
  const nutrients = document.getElementById('nutrientFlow');

  // Reset classes and attributes
  brain.classList.remove('stressed');
  brain.style.fill = ""; 
  brain.style.opacity = "";
  
  hpaLeft.classList.remove('hpa-blocked');
  hpaRight.classList.remove('hpa-blocked');
  
  uterus.classList.remove('nourished');
  nutrients.setAttribute('opacity', '0');
}


// =========================================
// TREATMENT SIMULATOR LOGIC
// =========================================
function runTreatmentSim(type, btn) {
  // 1. Reset UI
  document.querySelectorAll('.treatment-trigger-card').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  resetSimVisuals();
  
  // 2. Set Active State
  const title = document.getElementById('simTitle');
  const status = document.getElementById('simStatus');
  const pulse = document.getElementById('simPulse');
  
  pulse.style.display = 'block';
  status.textContent = "RUNNING...";
  status.style.color = "#d81b60";

  // 3. Run Specific Simulation
  if (type === 'ovulation') {
    title.textContent = "Ovulation Induction";
    animateBiometrics(80, 90, 40, 20); // High FSH/Estrogen
    
    // Animate Ovaries & Follicles
    document.getElementById('sim-ovaryL').classList.add('enlarged-ovary');
    document.getElementById('sim-ovaryR').classList.add('enlarged-ovary');
    document.querySelectorAll('.follicle').forEach(f => f.classList.add('visible'));
    
    showSensation("Mild Bloating", "Ovaries enlarging");
    showSensation("Fullness", "Pelvic pressure");
    
    updateSimText(
      "Stimulation Phase",
      "Medications (Clomid/Letrozole) boost FSH to mature multiple follicles instead of just one.",
      "Wear comfortable waistbands. Bloating is a sign the medication is working!"
    );
    
    finishSim("Follicles Matured!");

  } else if (type === 'iui') {
    title.textContent = "Intrauterine Insemination (IUI)";
    animateBiometrics(30, 80, 90, 10); // LH Surge
    
    // Animate Catheter & Sperm
    setTimeout(() => document.getElementById('sim-catheter').classList.add('inserted'), 500);
    setTimeout(() => {
      document.querySelectorAll('.sperm-cell').forEach(s => s.classList.add('swimming'));
    }, 1500);
    
    showSensation("Cramping", "Mild sensation");
    showSensation("Pressure", "Catheter insertion");
    
    updateSimText(
      "Insemination",
      "Washed sperm is placed directly into the uterus, bypassing the cervix to get closer to the egg.",
      "Spotting is normal. Rest for 15 minutes after the procedure to relax."
    );
    
    finishSim("Insemination Complete!");

  } else if (type === 'ivf') {
    title.textContent = "IVF Retrieval & Transfer";
    animateBiometrics(90, 95, 20, 10);
    
    // 1. Retrieval
    document.getElementById('sim-needle').classList.add('inserted');
    showSensation("Pinch", "Sedation used");
    
    // 2. Lab Phase
    setTimeout(() => {
      document.getElementById('labOverlay').style.opacity = '1';
      updateSimText("Fertilization", "Eggs are fertilized in the lab.", "Hydrate well after retrieval.");
    }, 2000);
    
    // 3. Transfer
    setTimeout(() => {
      document.getElementById('labOverlay').style.opacity = '0';
      document.getElementById('sim-needle').classList.remove('inserted');
      document.getElementById('sim-embryo').style.opacity = '1';
      finishSim("Embryo Transferred!");
    }, 4500);

  } else if (type === 'freeze') {
    title.textContent = "Egg Freezing";
    animateBiometrics(85, 80, 10, 5);
    
    document.getElementById('sim-needle').classList.add('inserted');
    
    setTimeout(() => {
      document.getElementById('sim-needle').classList.remove('inserted');
      document.getElementById('sim-cryo').style.opacity = '1';
      updateSimText("Cryopreservation", "Eggs are flash-frozen (vitrification) and stored indefinitely.", "Plan for a day of rest after the procedure.");
      finishSim("Eggs Stored Safely!");
    }, 2000);
  }
}

function resetSimVisuals() {
  document.getElementById('successMsg').classList.remove('show');
  document.getElementById('labOverlay').style.opacity = '0';
  document.getElementById('sim-ovaryL').classList.remove('enlarged-ovary');
  document.getElementById('sim-ovaryR').classList.remove('enlarged-ovary');
  document.querySelectorAll('.follicle').forEach(f => f.classList.remove('visible'));
  document.getElementById('sim-catheter').classList.remove('inserted');
  document.querySelectorAll('.sperm-cell').forEach(s => s.classList.remove('swimming'));
  document.getElementById('sim-needle').classList.remove('inserted');
  document.getElementById('sim-embryo').style.opacity = '0';
  document.getElementById('sim-cryo').style.opacity = '0';
  document.getElementById('sensationHud').innerHTML = ''; 
  
  // Reset Bars
  document.getElementById('bioFsh').style.width = '5%';
  document.getElementById('bioEst').style.width = '5%';
  document.getElementById('bioLh').style.width = '5%';
  document.getElementById('bioProg').style.width = '5%';
}

function animateBiometrics(fsh, est, lh, prog) {
  setTimeout(() => document.getElementById('bioFsh').style.width = fsh + '%', 100);
  setTimeout(() => document.getElementById('bioEst').style.width = est + '%', 300);
  setTimeout(() => document.getElementById('bioLh').style.width = lh + '%', 500);
  setTimeout(() => document.getElementById('bioProg').style.width = prog + '%', 700);
}

function showSensation(title, desc) {
  const hud = document.getElementById('sensationHud');
  const card = document.createElement('div');
  card.className = 'sensation-card';
  card.innerHTML = `<div class="sensation-title"><i class="fa-solid fa-bolt"></i> ${title}</div><div>${desc}</div>`;
  hud.appendChild(card);
  
  // Trigger reflow for animation
  void card.offsetWidth;
  card.classList.add('active');
  
  // Remove after 4s
  setTimeout(() => {
    card.style.opacity = '0';
    setTimeout(() => card.remove(), 500);
  }, 4000);
}

function updateSimText(badge, title, tip) {
  document.getElementById('stepBadge').textContent = badge;
  document.getElementById('stepTitle').textContent = title;
  document.getElementById('careText').textContent = tip;
}

function finishSim(msg) {
  const status = document.getElementById('simStatus');
  const pulse = document.getElementById('simPulse');
  
  setTimeout(() => {
    pulse.style.display = 'none';
    status.textContent = "COMPLETE";
    status.style.color = "#4caf50";
    
    const popup = document.getElementById('successMsg');
    popup.textContent = "âœ¨ " + msg;
    popup.classList.add('show');
  }, 2000);
}

// =========================================
// MODAL CONTROLS
// =========================================
/* =========================================
   MODAL CONTROLS (Add this to your script)
   ========================================= */
function openTxModal() {
  const modal = document.getElementById('txModal');
  if (modal) {
    modal.classList.add('open');
    document.body.style.overflow = 'hidden'; // Prevents background scrolling
  } else {
    console.error("Modal element 'txModal' not found!");
  }
}

function closeTxModal() {
  const modal = document.getElementById('txModal');
  if (modal) {
    modal.classList.remove('open');
    document.body.style.overflow = ''; // Restores background scrolling
    
    // Optional: Reset simulation state when closing
    if(typeof resetSim === 'function') resetSim();
  }
}

// Close modal when clicking outside the content box
window.onclick = function(event) {
  const modal = document.getElementById('txModal');
  if (event.target == modal) {
    closeTxModal();
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  updateSimulation(1);
});

  </script>

  <div id="txModal" class="tx-modal-overlay">
  <div class="tx-modal-container">
    <button class="tx-close-btn" onclick="closeTxModal()">&times;</button>
    
    <section class="treatment-lab-section" id="treatmentLab">
      <div class="center-text">
        <h2 class="section-title-lg"><span class="title-black">Treatment</span> Options Lab</h2>
        <p class="sub-head">Select a procedure below to run a real-time biological simulation and see body responses.</p>
      </div>

      <div class="lab-interface">
        
        <div class="command-center">
          <div class="treatment-trigger-card" onclick="runTreatmentSim('ovulation', this)">
            <div class="trigger-icon"><i class="fa-solid fa-pills"></i></div>
            <div class="trigger-content">
              <h4>Ovulation Induction</h4>
              <p>Stimulate multiple follicles</p>
            </div>
            <div class="play-indicator"><i class="fa-solid fa-play"></i> Run</div>
          </div>

          <div class="treatment-trigger-card" onclick="runTreatmentSim('iui', this)">
            <div class="trigger-icon"><i class="fa-solid fa-syringe"></i></div>
            <div class="trigger-content">
              <h4>IUI (Insemination)</h4>
              <p>Sperm bypass procedure</p>
            </div>
            <div class="play-indicator"><i class="fa-solid fa-play"></i> Run</div>
          </div>

          <div class="treatment-trigger-card" onclick="runTreatmentSim('ivf', this)">
            <div class="trigger-icon"><i class="fa-solid fa-flask"></i></div>
            <div class="trigger-content">
              <h4>IVF (In Vitro)</h4>
              <p>Retrieval & Fertilization</p>
            </div>
            <div class="play-indicator"><i class="fa-solid fa-play"></i> Run</div>
          </div>

          <div class="treatment-trigger-card" onclick="runTreatmentSim('freeze', this)">
            <div class="trigger-icon"><i class="fa-solid fa-snowflake"></i></div>
            <div class="trigger-content">
              <h4>Egg Freezing</h4>
              <p>Fertility Preservation</p>
            </div>
            <div class="play-indicator"><i class="fa-solid fa-play"></i> Run</div>
          </div>
        </div>

        <div class="holo-stage">
          <div class="stage-header">
            <span id="simTitle" style="font-weight: 700; color: #333;">Select a Procedure</span>
            <div class="stage-status">
              <div class="pulse-rec" id="simPulse" style="display:none;"></div> 
              <span id="simStatus">IDLE</span>
            </div>
          </div>

          <div class="sim-canvas">
            <div class="sensation-hud" id="sensationHud"></div>

            <div class="bio-monitor">
              <div class="bio-header">ðŸ“‰ Live Biometrics</div>
              <div class="bio-grid">
                <div class="bio-item">
                  <span class="bio-label">FSH</span>
                  <div class="bio-bar-bg"><div class="bio-bar-fill" id="bioFsh"></div></div>
                </div>
                <div class="bio-item">
                  <span class="bio-label">Est</span>
                  <div class="bio-bar-bg"><div class="bio-bar-fill" id="bioEst"></div></div>
                </div>
                <div class="bio-item">
                  <span class="bio-label">LH</span>
                  <div class="bio-bar-bg"><div class="bio-bar-fill" id="bioLh"></div></div>
                </div>
                <div class="bio-item">
                  <span class="bio-label">Prog</span>
                  <div class="bio-bar-bg"><div class="bio-bar-fill" id="bioProg"></div></div>
                </div>
                <div class="bio-temp">
                  <i class="fa-solid fa-temperature-half"></i> <span id="bioTemp">97.5Â°F</span>
                </div>
              </div>
            </div>

            <svg id="mainCanvas" viewBox="0 0 400 300" width="100%" height="100%">
              <g transform="translate(0, -30)">
                <path class="tube-shape" d="M 120 200 Q 80 180, 50 200" />
                <path class="tube-shape" d="M 280 200 Q 320 180, 350 200" />
                <path id="sim-uterus" class="uterus-shape" d="M 150 280 Q 120 250, 130 220 L 130 200 Q 130 180, 200 180 Q 270 180, 270 200 L 270 220 Q 280 250, 250 280 Z" />
                
                <ellipse id="sim-ovaryL" class="ovary-shape" cx="50" cy="210" rx="20" ry="25" />
                <ellipse id="sim-ovaryR" class="ovary-shape" cx="350" cy="210" rx="20" ry="25" />

                <g id="sim-follicles">
                  <circle class="follicle" cx="50" cy="210" r="3" />
                  <circle class="follicle" cx="42" cy="205" r="3" />
                  <circle class="follicle" cx="58" cy="215" r="3" />
                  <circle class="follicle" cx="350" cy="210" r="3" />
                  <circle class="follicle" cx="358" cy="205" r="3" />
                </g>

                <path id="sim-catheter" class="catheter" d="M 200 400 L 200 240" />
                
                <g id="sim-sperm-group">
                  <circle class="sperm-cell" cx="200" cy="250" r="2" />
                  <circle class="sperm-cell" cx="195" cy="260" r="2" />
                  <circle class="sperm-cell" cx="205" cy="260" r="2" />
                </g>

                <line id="sim-needle" class="needle" x1="-60" y1="210" x2="20" y2="210" />
                <circle id="sim-embryo" class="embryo-cell" cx="200" cy="220" r="5" />

                <g id="sim-cryo" class="cryo-tank" transform="translate(160, 120)">
                  <rect x="0" y="0" width="80" height="100" rx="10" fill="#e1f5fe" stroke="#0288d1" stroke-width="2"/>
                  <path class="ice-crystal" d="M 40 40 L 50 60 L 30 60 Z" style="opacity:1; fill:#81d4fa;" />
                  <text x="40" y="80" text-anchor="middle" font-size="12" fill="#0277bd" style="font-weight:700;">CRYO</text>
                </g>
              </g>
            </svg>

            <div id="labOverlay" class="lab-dish-overlay">
              <div class="petri-dish">
                <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); text-align:center;">
                  <i class="fa-solid fa-microscope" style="font-size:2.5rem; color:#d81b60; margin-bottom: 0.5rem;"></i>
                  <div style="font-size:0.9rem; font-weight:700; color:#555;">Fertilizing...</div>
                </div>
              </div>
            </div>

            <div id="successMsg" class="success-popup">âœ¨ Procedure Complete!</div>
          </div>

          <div class="sim-details-panel">
            <div class="step-info">
              <h3><span class="step-badge" id="stepBadge">Info</span> <span id="stepTitle">Ready to Start</span></h3>
              <p class="step-desc" id="stepDesc">Select a treatment from the left to visualize the biological process and hormonal changes.</p>
            </div>
            <div class="care-tip-box">
              <div class="care-header"><i class="fa-solid fa-heart-pulse"></i> Self-Care Tip</div>
              <p class="care-text" id="careText">Relaxation is key. Select a simulation to get specific advice.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
  <script>
/* Mobile menu toggle */
function toggleMobile(){
  const menu=document.getElementById('mobileMenu');
  const b1=document.getElementById('hb1'),b2=document.getElementById('hb2'),b3=document.getElementById('hb3');
  const open=menu.classList.toggle('open');
  if(open){
    b1.style.cssText='transform:rotate(45deg) translate(4px,4px);';
    b2.style.cssText='opacity:0;';
    b3.style.cssText='transform:rotate(-45deg) translate(4px,-4px);';
  } else {
    b1.style.cssText=''; b2.style.cssText=''; b3.style.cssText='';
  }
}
document.addEventListener('click',function(e){
  const menu=document.getElementById('mobileMenu');
  const btn=document.getElementById('hamburgerBtn');
  if(menu&&menu.classList.contains('open')&&!menu.contains(e.target)&&!btn.contains(e.target)){
    menu.classList.remove('open');
    document.getElementById('hb1').style.cssText='';
    document.getElementById('hb2').style.cssText='';
    document.getElementById('hb3').style.cssText='';
  }
});
  </script>
  <script>
    (function initHeaderSparkle() {
      const header = document.querySelector('.site-header');
      if (!header) return;
      header.addEventListener('mousemove', (e) => {
        const rect = header.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        header.style.setProperty('--mouse-x', `${x}%`);
        header.style.setProperty('--mouse-y', `${y}%`);
      });
    })();
  </script>
</body>
</html>